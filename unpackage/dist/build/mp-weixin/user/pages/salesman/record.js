(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["user/pages/salesman/record"],{"3aec":function(t,e,i){"use strict";i.r(e);var a=i("3e69"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"3e69":function(t,e,i){"use strict";(function(t){var a=i("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("7eb4")),r=a(i("ee10")),s=a(i("7ca3")),o=i("8f59");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){(0,s.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l={components:{},data:function(){return{isLoad:!1,options:{},today:"",preCheck:{tabInd:2,statusInd:0,start_time:"",end_time:""},tabInd:2,tabList:[{id:1,title:"今日",start_time:"",end_time:""},{id:2,title:"近7日",start_time:"",end_time:""},{id:3,title:"近30日",start_time:"",end_time:""},{id:4,title:"自定义",start_time:"",end_time:""}],base_status:[{id:-1,title:"全部"},{id:0,title:"未入账"},{id:1,title:"已入账"}],statusInd:0,param:{page:1,channel_name:""},list:{data:[]},loading:!0,lockTap:!1}},computed:(0,o.mapState)({primaryColor:function(t){return t.config.configInfo.primaryColor},subColor:function(t){return t.config.configInfo.subColor},userInfo:function(t){return t.user.userInfo},haveOperItem:function(t){return t.order.haveOperItem}}),onLoad:function(t){this.options=t,this.initIndex()},onPullDownRefresh:function(){t.showNavigationBarLoading(),this.initRefresh(),t.stopPullDownRefresh()},onReachBottom:function(){this.list.current_page>=this.list.last_page||this.loading||(this.param.page=this.param.page+1,this.loading=!0,this.getList())},methods:c(c({},(0,o.mapMutations)(["updateUserItem","updateOrderItem"])),{},{initIndex:function(){var t=arguments,e=this;return(0,r.default)(n.default.mark((function i(){var a,r,s;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.length>0&&void 0!==t[0]&&t[0],e.$util.setNavigationBarColor({bg:e.primaryColor}),a=new Date(Math.ceil((new Date).getTime())),r=e.$util.formatTime(a,"YY-M-D"),864e5,s=1e3*e.$util.DateToUnix(r),e.today=r,e.tabList[0].start_time=r,e.tabList[0].end_time=r,e.tabList[1].start_time=e.$util.formatTime(s-6048e5,"YY-M-D"),e.tabList[1].end_time=r,e.tabList[2].start_time=e.$util.formatTime(s-2592e6,"YY-M-D"),e.tabList[2].end_time=r,i.next=15,e.getList();case 15:e.isLoad=!0;case 16:case"end":return i.stop()}}),i)})))()},initRefresh:function(){this.param.page=1,this.initIndex(!0)},toSearch:function(t){this.param.page=1,this.param.channel_name=t,this.getList()},getList:function(e){var i=this;return(0,r.default)(n.default.mark((function a(){var r,s,o,u,c,l,d,f,p,h,m;return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e&&(i.param.page=1,i.list.data=[],t.pageScrollTo({scrollTop:0})),r=i.list,s=i.tabInd,o=i.tabList,u=i.statusInd,c=i.base_status,l=o[s],d=l.start_time,f=l.end_time,p=c[u].id,h=i.$util.deepCopy(i.param),-1!=p&&(h.status=p),h.start_time=i.$util.DateToUnix(d),h.end_time=i.$util.DateToUnix(f)+86400-1,a.next=10,i.$api.salesman.salesmanChannelOrderListV2(h);case 10:m=a.sent,1==i.param.page||(m.data=r.data.concat(m.data)),i.list=m,i.loading=!1,i.$util.hideAll();case 14:case"end":return a.stop()}}),a)})))()},pickerChange:function(t,e){var i=this.tabList[3],a=i.start_time,n=i.end_time;"start_time"==e?a=t.detail.value:n=t.detail.value,a&&n&&this.$util.DateToUnix(a)>this.$util.DateToUnix(n)?this.$util.showToast({title:"开始时间不能大于结束时间"}):this.tabList[3][e]=t.detail.value},toChangeItem:function(t,e){this[e]=t},toConfirm:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;2==t&&(e=0,this.statusInd=0,this.preCheck.statusInd=0);var i=1==t?this.preCheck:this.tabList[e],a=i.start_time,n=void 0===a?"":a,r=i.end_time,s=void 0===r?"":r,o=2==t?{tabInd:2}:3==t?this:this.preCheck,u=o.tabInd;if(3==t){if((!n||!s)&&3==u)return void this.$util.showToast({title:n?"请选择结束时间":"请选择开始时间"});this.preCheck.start_time=n,this.preCheck.end_time=s,this.preCheck.tabInd=u}else this.tabList[e].start_time=n,this.tabList[e].end_time=s,this.tabInd=u;2!=t&&(this.$refs.show_choose_time.close(),this.param.page=1,this.getList())}})};e.default=l}).call(this,i("df3c")["default"])},"4ac4":function(t,e,i){},"8f7d":function(t,e,i){"use strict";i.r(e);var a=i("d6a4"),n=i("3aec");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("bcda");var s=i("828b"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},a5dd:function(t,e,i){"use strict";(function(t,e){var a=i("47a9");i("65e9");a(i("3240"));var n=a(i("8f7d"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(n.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])},bcda:function(t,e,i){"use strict";var a=i("4ac4"),n=i.n(a);n.a},d6a4:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=(t._self._c,t.isLoad&&t.loading?t.list.current_page>=t.list.last_page&&t.list.data.length>0:null),a=t.isLoad?!t.loading&&t.list.data.length<=0&&1==t.list.current_page:null;t._isMounted||(t.e0=function(e){return e.stopPropagation(),t.$refs.show_choose_time.open()},t.e1=function(e,i){var a=arguments[arguments.length-1].currentTarget.dataset,n=a.eventParams||a["event-params"];i=n.item;return e.stopPropagation(),t.$util.goUrl({url:i.order_code,openType:"copy"})}),t.$mp.data=Object.assign({},{$root:{g0:i,g1:a}})},n=[]}},[["a5dd","common/runtime","common/vendor"]]]);