(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["user/pages/distribution/pay-order"],{"12c4":function(t,e,n){"use strict";n.r(e);var r=n("6659"),i=n("3e2b");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("8492");var a=n("828b"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);e["default"]=u.exports},"3e2b":function(t,e,n){"use strict";n.r(e);var r=n("7b2c"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=i.a},6659:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var r=function(){var t=this.$createElement;this._self._c},i=[]},"7b2c":function(t,e,n){"use strict";(function(t){var r=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("7eb4")),o=r(n("ee10")),a=r(n("7ca3")),u=n("8f59");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,a.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={components:{tabbar:function(){n.e("components/tabbar").then(function(){return resolve(n("a1b6"))}.bind(null,n)).catch(n.oe)}},data:function(){return{isLoad:!1,options:{},payList:[{id:1,icon:"icon-weixin",title:"微信支付"}],payInd:0,detail:{},lockTap:!1}},computed:(0,u.mapState)({primaryColor:function(t){return t.config.configInfo.primaryColor},subColor:function(t){return t.config.configInfo.subColor},configInfo:function(t){return t.config.configInfo},userInfo:function(t){return t.user.userInfo},mineInfo:function(t){return t.user.mineInfo}}),onLoad:function(t){this.options=t,this.initIndex()},onUnload:function(){this.$util.back()},onPullDownRefresh:function(){t.showNavigationBarLoading(),this.initRefresh(),t.stopPullDownRefresh()},methods:s(s(s({},(0,u.mapActions)(["getConfigInfo","getMineInfo"])),(0,u.mapMutations)(["updateOrderItem"])),{},{initIndex:function(){var t=arguments,e=this;return(0,o.default)(i.default.mark((function n(){var r,o,a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]&&t[0],e.$util.showLoading(),e.configInfo.id&&!r){n.next=5;break}return n.next=5,e.getConfigInfo();case 5:return o=e.configInfo.alipay_status,a=void 0===o?0:o,a&&e.payList.length,e.$util.setNavigationBarColor({bg:e.primaryColor}),n.next=10,e.$api.mine.partnerIndex();case 10:e.detail=n.sent,e.$util.setNavigationBarColor({bg:e.primaryColor}),e.isLoad=!0,e.$util.hideAll();case 14:case"end":return n.stop()}}),n)})))()},initRefresh:function(){this.initIndex(!0)},toChangeItem:function(t,e){this[t]=e,this.lockTap=!1},toConfirm:function(){var t=this;return(0,o.default)(i.default.mark((function e(){var n,r,o;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.payList[t.payInd].id,!t.lockTap){e.next=3;break}return e.abrupt("return");case 3:return t.lockTap=!0,t.$util.showLoading(),e.prev=5,e.next=8,t.$api.mine.resellerLevelUp({pay_model:n});case 8:if(r=e.sent,r.order_id,o=r.pay_list,t.$util.hideAll(),!o){e.next=25;break}return 3==n&&(o={orderInfo:o,provider:"alipay"}),e.prev=14,e.next=17,t.$util.pay(o);case 17:t.$util.showToast({title:"支付成功"}),setTimeout((function(){t.$util.back(),t.getMineInfo(),t.lockTap=!1,t.$util.goUrl({url:"/user/pages/distribution/pay-suc",openType:"redirectTo"})}),1e3),e.next=25;break;case 21:return e.prev=21,e.t0=e["catch"](14),t.lockTap=!1,e.abrupt("return");case 25:t.$util.showToast({title:"支付成功"}),setTimeout((function(){t.$util.back(),t.getMineInfo(),t.lockTap=!1,t.$util.goUrl({url:"/user/pages/distribution/pay-suc",openType:"redirectTo"})}),1e3),e.next=33;break;case 29:e.prev=29,e.t1=e["catch"](5),t.$util.showToast({title:"支付失败"}),setTimeout((function(){t.lockTap=!1,t.$util.hideAll()}),1e3);case 33:case"end":return e.stop()}}),e,null,[[5,29],[14,21]])})))()}})};e.default=f}).call(this,n("df3c")["default"])},8492:function(t,e,n){"use strict";var r=n("f7ea"),i=n.n(r);i.a},d903:function(t,e,n){"use strict";(function(t,e){var r=n("47a9");n("65e9");r(n("3240"));var i=r(n("12c4"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},f7ea:function(t,e,n){}},[["d903","common/runtime","common/vendor"]]]);