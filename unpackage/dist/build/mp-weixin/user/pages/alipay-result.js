(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["user/pages/alipay-result"],{"0173":function(e,t,r){"use strict";(function(e,t){var n=r("47a9");r("65e9");n(r("3240"));var a=n(r("a1b5"));e.__webpack_require_UNI_MP_PLUGIN__=r,t(a.default)}).call(this,r("3223")["default"],r("df3c")["createPage"])},"01f4":function(e,t,r){"use strict";r.r(t);var n=r("0636"),a=r.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},"0636":function(e,t,r){"use strict";var n=r("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("7eb4")),i=n(r("ee10")),o=n(r("7ca3")),u=r("8f59"),c=n(r("56ce"));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={components:{},data:function(){return{options:{},isLoad:!1,isWechatAgent:!1,link:"",content:"正在支付中"}},onLoad:function(e){this.options=e,this.initIndex()},computed:(0,u.mapState)({primaryColor:function(e){return e.config.configInfo.primaryColor},subColor:function(e){return e.config.configInfo.subColor},userInfo:function(e){return e.user.userInfo},autograph:function(e){return e.user.autograph},alipayOrderParams:function(e){return e.order.alipayOrderParams}}),methods:d(d(d({},(0,u.mapActions)(["getConfigInfo","getMineInfo"])),(0,u.mapMutations)(["updateUserItem","updateOrderItem"])),{},{initIndex:function(){var e=this;return(0,i.default)(a.default.mark((function t(){var r,n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$jweixin.isWechat();case 2:if(r=t.sent,!r){t.next=7;break}return t.next=6,e.$jweixin.initJssdk();case 6:e.$jweixin.wxReady((function(){e.$jweixin.hideOptionMenu()}));case 7:if(e.isWechatAgent=r,n=e.options.autograph,!n){t.next=14;break}return e.updateUserItem({key:"autograph",val:n}),t.next=13,e.toRePay();case 13:return t.abrupt("return");case 14:return t.next=16,e.formatLink();case 16:e.isLoad=!0;case 17:case"end":return t.stop()}}),t)})))()},formatLink:function(){var e=this;return(0,i.default)(a.default.mark((function t(){var r,n,i,o,u,s,d,f,p,l,v,h,b,y,m;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=c.default.siteroot,n=r.split("/index.php")[0],i=e.autograph,o=e.alipayOrderParams,u=o.order_id,s=o.card_id,d=void 0===s?0:s,f=o.coach_id,p=void 0===f?0:f,l=o.is_update,v=void 0===l?0:l,h=o.reseller,b=void 0===h?0:h,y=d?"&cid=".concat(d,"&coach=").concat(p):"",v&&(y+="&update=1"),b&&(y+="&reseller=1"),m="".concat(n,"/h5/#/user/pages/alipay-result?autograph=").concat(i,"&id=").concat(u).concat(y),e.link=m;case 9:case"end":return t.stop()}}),t)})))()},toRePay:function(){var e=this;return(0,i.default)(a.default.mark((function t(){var r,n,i,o,u,c,s,d,f,p,l,v,h,b,y,m;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.options,n=r.id,i=r.cid,o=void 0===i?0:i,u=r.coach,c=void 0===u?0:u,s=r.update,d=void 0===s?0:s,f=r.reseller,p=void 0===f?0:f,l=o?{card_id:o,coach_id:c,pay_model:3}:{id:n},v=o||p?"mine":"order",h=o?"payBalanceOrder":p?"reApplyResellerOrder":d?"rePayUpOrder":"rePayOrder",t.next=6,e.$api[v][h](l);case 6:b=t.sent,y=b.pay_list,y&&(m=Object.assign({},{orderInfo:y,provider:"alipay"},e.options),e.updateOrderItem({key:"alipayOrderParams",val:m}),e.isLoad=!0,e.$nextTick((function(){document.getElementById("alipaysubmit").submit()})));case 9:case"end":return t.stop()}}),t)})))()},copyLink:function(){var e=this.link;this.$util.goUrl({url:e,openType:"copy"})},goDetail:function(){var e=this.alipayOrderParams.page_url;this.$util.goUrl({url:e,openType:"reLaunch"})}})};t.default=f},a1b5:function(e,t,r){"use strict";r.r(t);var n=r("b793"),a=r("01f4");for(var i in a)["default"].indexOf(i)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(i);r("ba1a");var o=r("828b"),u=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"15111fae",null,!1,n["a"],void 0);t["default"]=u.exports},ae14:function(e,t,r){},b793:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){}));var n=function(){var e=this.$createElement;this._self._c},a=[]},ba1a:function(e,t,r){"use strict";var n=r("ae14"),a=r.n(n);a.a}},[["0173","common/runtime","common/vendor"]]]);