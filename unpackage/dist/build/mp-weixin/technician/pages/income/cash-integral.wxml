<view class="technician-cash-integral"><fixed vue-id="007f14e4-1" zIndex="997" bind:__l="__l" vue-slots="{{['default']}}"><view class="record-search-info fill-body pt-md pl-md c-base"><view class="record-info radius-32" style="{{'background:'+(primaryColor)+';'}}"><view class="search-item flex-between ml-lg mr-lg f-desc b-1px-b"><view>查询时间</view><view data-event-opts="{{[['tap',[['toShowTimePopup',['$event']]]]]}}" class="flex-y-center" catchtap="__e">{{''+$root.f0}}<view class="iconfont icon-right _i"></view></view></view><view class="record-list flex-x-center pt-lg pb-lg f-paragraph"><view class="list-item flex-center flex-column"><view class="f-sm-title text-bold">{{"¥"+(count.total_cash||0)}}</view><view class="f-caption">累计佣金(不含手续费)</view></view><view class="list-item flex-center flex-column"><view class="f-sm-title text-bold">{{count.total_integral||0}}</view><view class="f-caption">累计积分</view></view></view></view></view></fixed><block wx:if="{{$root.g0}}"><view class="fill-base"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><block wx:if="{{prev_time.activeIndex==0&&(index==0||index>0&&item.$orig.month!=list.data[index-1].month)}}"><view data-event-opts="{{[['tap',[['toShowTimePopup',['$event','$0'],[[['list.data','',index,'month']]]]]]]}}" class="count-item fill-body pl-md pr-md" catchtap="__e"><veiw class="title flex-y-center" vue-id="{{'007f14e4-2-'+index}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="f-title c-title text-bold">{{item.$orig.month_text}}</view><view class="iconfont iconxia _i"></view></veiw><view class="flex-y-center f-caption c-caption">{{"共计佣金¥"+item.$orig.total_cash+''}}<view class="ml-md">{{"手续费 ¥"+item.$orig.point_cash}}</view><view class="ml-md">{{"共计积分 "+item.$orig.total_integral}}</view></view></view></block><block wx:if="{{prev_time.activeIndex==1&&index==0}}"><view data-event-opts="{{[['tap',[['toShowTimePopup',['$event']]]]]}}" class="count-item fill-body pl-md pr-md" catchtap="__e"><veiw class="title flex-y-center" vue-id="{{'007f14e4-3-'+index}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="f-title c-title text-bold">{{item.f1}}</view><view class="iconfont iconxia _i"></view></veiw><view class="flex-y-center f-caption c-caption">{{"共计佣金¥"+count.cash+''}}<view class="ml-md">{{"共计积分 "+count.integral}}</view></view></view></block><view class="{{['list-item','pt-lg','pb-lg','ml-lg','mr-lg','flex-center',[(index!=0)?'b-1px-t':'']]}}"><view class="item-icon flex-center c-base radius" style="{{'background:'+(primaryColor)+';'}}"><view class="{{['iconfont','_i',[(item.$orig.type==0)?'iconjifenmingxi':''],[(item.$orig.type==1)?'iconfenchengmingxi':'']]}}"></view></view><view class="flex-1"><view class="flex-between"><view class="flex-y-center f-mini-title c-title text-bold">充值金额<view class="ml-sm">{{''+item.$orig.user_cash+''}}</view></view><view class="flex-y-center f-sm-title" style="{{'color:'+(primaryColor)+';'}}">{{''+(item.$orig.type==0?item.$orig.integral:'¥'+item.$orig.integral)+''}}<block wx:if="{{item.$orig.type==0}}"><view class="f-caption ml-sm">积分</view></block></view></view><view class="flex-warp f-desc c-paragraph"><view>充值用户</view><view class="ml-md" style="max-width:423rpx;">{{(item.$orig.nickName||'-')+''}}</view></view><view class="flex-y-center f-caption c-caption mt-sm">充值时间<view class="ml-md">{{''+item.$orig.create_time+''}}</view></view></view></view></block></block></view></block><block wx:if="{{loading}}"><load-more vue-id="007f14e4-4" noMore="{{$root.g1}}" loading="{{loading}}" bind:__l="__l"></load-more></block><block wx:if="{{$root.g2}}"><abnor vue-id="007f14e4-5" bind:__l="__l"></abnor></block><view class="space-footer"></view><uni-popup class="vue-ref" vue-id="007f14e4-6" type="bottom" maskClick="{{false}}" data-ref="show_choose_time" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-choose-time fill-base"><view class="pl-lg pr-lg"><view class="flex-between b-1px-b"><tab vue-id="{{('007f14e4-7')+','+('007f14e4-6')}}" list="{{tabList}}" activeIndex="{{activeIndex*1}}" activeColor="{{primaryColor}}" height="100rpx" data-event-opts="{{[['^change',[['handerTabChange']]]]}}" bind:change="__e" bind:__l="__l"></tab><view data-event-opts="{{[['tap',[['toClose',['$event']]]]]}}" class="iconfont icon-close _i" catchtap="__e"></view></view><view class="flex-center" style="height:80rpx;"><view class="flex-1 flex-y-baseline"><view class="f-paragraph c-title text-bold">{{activeIndex==0?'选择月份':'自定义时间'}}</view><block wx:if="{{activeIndex==1}}"><view class="f-caption c-warning ml-sm">最长可查找时间跨度一年的交易</view></block></view><block wx:if="{{activeIndex==0&&check_time.month||activeIndex==1&&(check_time.start_time||check_time.end_time)}}"><view data-event-opts="{{[['tap',[['toReset',['$event']]]]]}}" class="f-paragraph" style="color:#5A677E;" catchtap="__e">清除</view></block></view><block wx:if="{{activeIndex==0}}"><view class="flex-center pb-lg"><view data-event-opts="{{[['tap',[['toShowTime',['month']]]]]}}" class="item-child flex-center flex-column" catchtap="__e"><view>开始月份</view><view class="mt-sm" style="{{'color:'+(check_time.month?primaryColor:'#999')+';'}}">{{''+(check_time.month||'选择月份')+''}}</view></view></view></block><block wx:if="{{activeIndex==1}}"><view class="flex-center pb-lg"><view data-event-opts="{{[['tap',[['toShowTime',['start_time']]]]]}}" class="item-child flex-center flex-column" catchtap="__e"><view>开始时间</view><view class="mt-sm" style="{{'color:'+(check_time.start_time?primaryColor:'#999')+';'}}">{{''+(check_time.start_time||'选择时间')+''}}</view></view><view data-event-opts="{{[['tap',[['toShowTime',['end_time']]]]]}}" class="item-child flex-center flex-column b-1px-l" catchtap="__e"><view>结束时间</view><view class="mt-sm" style="{{'color:'+(check_time.end_time?primaryColor:'#999')+';'}}">{{''+(check_time.end_time||'选择时间')+''}}</view></view></view></block></view><view class="flex-center flex-column fill-body"><view class="space-lg"></view><view data-event-opts="{{[['tap',[['toConfirm',['$event']]]]]}}" class="confirm-btn flex-center f-title c-base radius-16" style="{{'background:'+(primaryColor)+';'}}" catchtap="__e">确定</view><view class="space-lg"></view><view class="space-safe"></view></view></view></uni-popup><w-picker class="vue-ref" vue-id="007f14e4-8" mode="date" startYear="{{startYear*1-10}}" endYear="{{startYear}}" value="{{activeIndex==0?curMonth:curDay}}" current="{{false}}" fields="{{activeIndex==0?'month':'day'}}" disabled-after="{{false}}" themeColor="{{primaryColor}}" visible="{{showDate}}" data-ref="day" data-event-opts="{{[['^confirm',[['onConfirm',['$event']]]],['^updateVisible',[['__set_sync',['$0','showDate','$event'],['']]]]]}}" bind:confirm="__e" bind:updateVisible="__e" bind:__l="__l"></w-picker></view>