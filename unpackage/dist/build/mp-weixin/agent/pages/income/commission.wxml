<block wx:if="{{isLoad}}"><view class="agent-income-commission"><fixed vue-id="f538ca30-1" zIndex="997" data-event-opts="{{[['^height',[['initFixHeight']]]]}}" bind:height="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="record-search-info fill-body pt-md pl-md c-base"><view class="record-info radius-32" style="{{'background:'+(primaryColor)+';'}}"><view class="search-item flex-between ml-lg mr-lg f-desc b-1px-b"><view>查询时间</view><view data-event-opts="{{[['tap',[['toShowTimePopup',['$event']]]]]}}" class="flex-y-center" catchtap="__e">{{''+$root.f0}}<view class="iconfont icon-right _i"></view></view></view><view class="search-item flex-between ml-lg mr-lg f-desc"><view>入账状态</view><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="flex-y-center" catchtap="__e">{{''+typeList[typeIndex].title}}<view class="iconfont icon-right _i"></view></view></view></view></view></fixed><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><block wx:if="{{prev_time.activeIndex==0&&(index==0||index>0&&item.$orig.month!=list.data[index-1].month)}}"><view data-event-opts="{{[['tap',[['toShowTimePopup',['$event','$0'],[[['list.data','',index,'month']]]]]]]}}" class="count-item fill-body pl-md pr-md" catchtap="__e"><veiw class="title flex-y-center" vue-id="{{'f538ca30-2-'+index}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="f-title c-title text-bold">{{item.$orig.month}}</view><view class="iconfont iconxia _i"></view></veiw><view class="f-caption c-caption">{{"获得总提成¥"+item.$orig.total_cash+"（"+cityType[item.$orig.my_city_type]+'代理）'}}</view></view></block><block wx:if="{{prev_time.activeIndex==1&&index==0}}"><view data-event-opts="{{[['tap',[['toShowTimePopup',['$event','$0'],[[['list.data','',index,'month']]]]]]]}}" class="count-item fill-body pl-md pr-md" catchtap="__e"><veiw class="title flex-y-center" vue-id="{{'f538ca30-3-'+index}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="f-title c-title text-bold">{{item.f1}}</view><view class="iconfont iconxia _i"></view></veiw><view class="f-caption c-caption">{{"获得总提成¥"+item.$orig.total_cash+"（"+cityType[item.$orig.my_city_type]+'代理）'}}</view></view></block><view class="{{['list-item','fill-base',[(index!==0)?'mt-md':'']]}}"><view class="flex-between pt-lg pb-lg ml-lg mr-lg b-1px-b"><view class="flex-y-center f-caption c-caption">{{item.m0+''}}<view class="f-paragraph c-title text-bold ml-md max-380 ellipsis">{{''+(item.$orig.coach_info?item.$orig.coach_info.coach_name:'-')+''}}</view></view><view class="f-paragraph text-bold" style="{{'color:'+(item.$orig.have_tx?primaryColor:subColor)+';'}}">{{''+statusType[item.$orig.have_tx]+''}}</view></view><view class="pd-lg f-caption"><view class="flex-warp"><view class="item-text c-paragraph">创建时间:</view><view class="c-title">{{item.$orig.create_time}}</view></view><view class="flex-warp mt-md"><view class="item-text c-paragraph">服务时间:</view><view class="c-title">{{item.$orig.start_time}}</view></view><view class="flex-warp mt-md"><view class="item-text c-paragraph">项目:</view><view class="c-title" style="max-width:450rpx;"><block wx:for="{{item.$orig.order_goods}}" wx:for-item="aitem" wx:for-index="aindex" wx:key="aindex"><view class="{{[[(aindex!=0)?'mt-md':'']]}}">{{''+aitem.goods_name+''}}</view></block></view></view><view class="flex-warp mt-md"><view class="item-text c-paragraph">订单实际支付价格:</view><view class="flex-y-center c-title"><view class="mr-sm">{{"¥"+item.$orig.pay_price}}</view><block wx:if="{{item.$orig.true_car_price*1>0}}"><block>{{"(含车费¥"+item.$orig.true_car_price+")"}}</block></block></view></view><view class="flex-warp mt-lg pt-md"><view class="item-text c-paragraph">{{item.m1+'分成:'}}</view><view class="c-title" style="{{'color:'+(primaryColor)+';'}}">{{"¥"+item.$orig.coach_cash}}</view></view><block wx:for="{{item.$orig.admin_cash_list}}" wx:for-item="aitem" wx:for-index="aindex" wx:key="aindex"><view class="flex-warp mt-md"><view class="item-text c-paragraph">{{cityType[aitem.city_type]+'代理分成:'}}</view><view class="c-title" style="{{'color:'+(primaryColor)+';'}}">{{"¥"+aitem.cash}}</view></view></block></view></view></block></block><block wx:if="{{loading}}"><load-more vue-id="f538ca30-4" noMore="{{$root.g0}}" loading="{{loading}}" bind:__l="__l"></load-more></block><block wx:if="{{$root.g1}}"><abnor vue-id="f538ca30-5" bind:__l="__l"></abnor></block><view class="space-footer"></view><uni-popup class="vue-ref" vue-id="f538ca30-6" type="bottom" maskClick="{{false}}" data-ref="show_choose_time" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-choose-time fill-base"><view class="pl-lg pr-lg"><view class="flex-between b-1px-b"><tab vue-id="{{('f538ca30-7')+','+('f538ca30-6')}}" list="{{tabList}}" activeIndex="{{activeIndex*1}}" activeColor="{{primaryColor}}" height="100rpx" data-event-opts="{{[['^change',[['handerTabChange']]]]}}" bind:change="__e" bind:__l="__l"></tab><view data-event-opts="{{[['tap',[['toClose',['$event']]]]]}}" class="iconfont icon-close _i" catchtap="__e"></view></view><view class="flex-center" style="height:80rpx;"><view class="flex-1 flex-y-baseline"><view class="f-paragraph c-title text-bold">{{activeIndex==0?'选择月份':'自定义时间'}}</view><block wx:if="{{activeIndex==1}}"><view class="f-caption c-warning ml-sm">最长可查找时间跨度一年的交易</view></block></view><block wx:if="{{activeIndex==0&&check_time.month||activeIndex==1&&(check_time.start_time||check_time.end_time)}}"><view data-event-opts="{{[['tap',[['toReset',['$event']]]]]}}" class="f-paragraph" style="color:#5A677E;" catchtap="__e">清除</view></block></view><block wx:if="{{activeIndex==0}}"><view class="flex-center pb-lg"><view data-event-opts="{{[['tap',[['toShowTime',['month']]]]]}}" class="item-child flex-center flex-column" catchtap="__e"><view>开始月份</view><view class="mt-sm" style="{{'color:'+(check_time.month?primaryColor:'#999')+';'}}">{{''+(check_time.month||'选择月份')+''}}</view></view></view></block><block wx:if="{{activeIndex==1}}"><view class="flex-center pb-lg"><view data-event-opts="{{[['tap',[['toShowTime',['start_time']]]]]}}" class="item-child flex-center flex-column" catchtap="__e"><view>开始时间</view><view class="mt-sm" style="{{'color:'+(check_time.start_time?primaryColor:'#999')+';'}}">{{''+(check_time.start_time||'选择时间')+''}}</view></view><view data-event-opts="{{[['tap',[['toShowTime',['end_time']]]]]}}" class="item-child flex-center flex-column b-1px-l" catchtap="__e"><view>结束时间</view><view class="mt-sm" style="{{'color:'+(check_time.end_time?primaryColor:'#999')+';'}}">{{''+(check_time.end_time||'选择时间')+''}}</view></view></view></block></view><view class="flex-center flex-column fill-body"><view class="space-lg"></view><view data-event-opts="{{[['tap',[['toConfirm',['$event']]]]]}}" class="confirm-btn flex-center f-title c-base radius-16" style="{{'background:'+(primaryColor)+';'}}" catchtap="__e">确定</view><view class="space-lg"></view><view class="space-safe"></view></view></view></uni-popup><w-picker class="vue-ref" vue-id="f538ca30-8" mode="date" startYear="{{startYear*1-10}}" endYear="{{startYear}}" value="{{activeIndex==0?curMonth:curDay}}" current="{{false}}" fields="{{activeIndex==0?'month':'day'}}" disabled-after="{{false}}" themeColor="{{primaryColor}}" visible="{{showDate}}" data-ref="day" data-event-opts="{{[['^confirm',[['onConfirm',['$event']]]],['^updateVisible',[['__set_sync',['$0','showDate','$event'],['']]]]]}}" bind:confirm="__e" bind:updateVisible="__e" bind:__l="__l"></w-picker><uni-popup class="vue-ref" vue-id="f538ca30-9" type="bottom" custom="{{true}}" data-ref="show_status_item" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-status pd-lg fill-base"><block wx:for="{{typeList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['handerTypeChange',[index]]]]]}}" class="{{['flex-center','f-paragraph','mb-lg',[(index==0)?'mt-lg':'']]}}" style="{{'color:'+(typeIndex==index?primaryColor:'')+';'}}" catchtap="__e">{{''+item.title+''}}</view></block></view></uni-popup></view></block>