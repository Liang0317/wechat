(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["agent/pages/income/commission"],{"0404":function(t,e,i){"use strict";(function(t){var n=i("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("7eb4")),r=n(i("7ca3")),o=n(i("ee10")),c=i("8f59"),s=n(i("7942"));function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d={components:{wPicker:function(){i.e("components/w-picker/w-picker").then(function(){return resolve(i("ab68"))}.bind(null,i)).catch(i.oe)}},data:function(){return{isLoad:!1,popupHeight:"",curDay:"",curMonth:"",startYear:"",showKey:"",showDate:!1,time_text:"",prev_time:{activeIndex:0,month:"",start_time:"",end_time:""},check_time:{activeIndex:0,month:"",start_time:"",end_time:""},activeIndex:0,tabList:[{id:1,title:"月份选择"},{id:2,title:"自定义时间"}],typeIndex:0,typeList:[{title:"全部",id:-1},{title:"未到账",id:0},{title:"已到账",id:1}],statusType:{0:"未到账",1:"已到账"},cityType:["","城市","区县","省"],param:{page:1},list:{data:[]},loading:!0}},computed:(0,c.mapState)({primaryColor:function(t){return t.config.configInfo.primaryColor},subColor:function(t){return t.config.configInfo.subColor}}),onLoad:function(){var t=this;return(0,o.default)(a.default.mark((function e(){var i;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$util.showLoading(),i=new Date(Math.ceil((new Date).getTime())),t.curDay=t.$util.formatTime(i,"YY-M-D"),t.curMonth=t.$util.formatTime(i,"YY-M"),t.startYear=t.$util.formatTime(i,"YY"),e.next=7,t.initIndex();case 7:t.isLoad=!0;case 8:case"end":return e.stop()}}),e)})))()},onPullDownRefresh:function(){t.showNavigationBarLoading(),this.initRefresh(),t.stopPullDownRefresh()},onReachBottom:function(){this.list.current_page>=this.list.last_page||this.loading||(this.param.page=this.param.page+1,this.loading=!0,this.getList())},methods:l(l({},(0,c.mapMutations)([])),{},{initIndex:function(){var t=arguments,e=this;return(0,o.default)(a.default.mark((function i(){return a.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.length>0&&void 0!==t[0]&&t[0],i.next=3,e.getList();case 3:e.$util.setNavigationBarColor({bg:e.primaryColor});case 4:case"end":return i.stop()}}),i)})))()},initRefresh:function(){this.param.page=1,this.initIndex(!0)},getList:function(e){var i=this;return(0,o.default)(a.default.mark((function n(){var r,o,c,s,u,l,d,h,f,m,p;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e&&(i.param.page=1,i.list.data=[],t.pageScrollTo({scrollTop:0})),r=i.list,o=i.activeIndex,c=i.typeIndex,s=i.typeList,u=i.$util.deepCopy(i.param),l=s[c].id,-1!=l&&(u.have_tx=l),d=i.$util.deepCopy(i.check_time),h=d.month,f=d.start_time,m=d.end_time,0==o&&(u.month=h?i.$util.DateToUnix("".concat(h,"-01")):""),1==o&&(u.start_time=f&&m?i.$util.DateToUnix(f):"",u.end_time=f&&m?i.$util.DateToUnix(m)+86400-1:""),n.next=10,i.$api.agent.commList(u);case 10:p=n.sent,1==i.param.page||(p.data=r.data.concat(p.data)),i.list=p,i.loading=!1,i.$util.hideAll();case 14:case"end":return n.stop()}}),n)})))()},initFixHeight:function(t){this.popupHeight=t},handerTabChange:function(t){this.activeIndex=t,this.check_time.activeIndex=t},handerTypeChange:function(t){this.typeIndex=t,this.getList(1),this.$refs.show_status_item.close()},toChangeType:function(t){this.active=t},toShowTimePopup:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.check_time=this.$util.deepCopy(this.prev_time),e&&0!=e&&(this.activeIndex=0,this.curMonth=e,this.check_time.month=e),this.activeIndex=this.check_time.activeIndex,this.$refs.show_choose_time.open()},toReset:function(){var t=this.activeIndex;0!=t?(this.check_time.start_time="",this.check_time.end_time=""):this.check_time.month=""},toClose:function(){var t=this;return(0,o.default)(a.default.mark((function e(){var i,n,r,o,c;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.activeIndex,n=t.check_time,r=n.month,o=n.start_time,c=n.end_time,(0!=i||r)&&(1!=i||o&&c)||(1!=i||o&&c||(t.activeIndex=0,t.check_time.activeIndex=0,t.check_time.month=""),t.prev_time=t.$util.deepCopy(t.check_time)),(0==i&&r||1==i&&o&&c)&&(t.check_time=t.$util.deepCopy(t.prev_time)),t.$refs.show_choose_time.close(),t.getList(1);case 6:case"end":return e.stop()}}),e)})))()},toShowTime:function(t){var e=this.activeIndex;if(1!=e||"end_time"!=t||this.check_time.start_time){var i=this.check_time[t];i&&("month"==t?this.curMonth=i:this.curDay=i),this.showKey=t,this.showDate=!0}else this.$util.showToast({title:"请选择开始时间"})},onConfirm:function(t){var e=this;return(0,o.default)(a.default.mark((function i(){var n,r,o,c,s,u,l,d,h,f,m,p;return a.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=e.check_time,r=n.start_time,o=n.end_time,c=e.showKey,s=e.activeIndex,u=void 0===s?0:s,l=e.$util.DateToUnix("month"==c?"".concat(t.result,"-01"):t.result),d=r?e.$util.DateToUnix(r):0,h=o?e.$util.DateToUnix(o):0,f=e.$util.formatTime(new Date(Math.ceil((new Date).getTime())),"YY-M-D"),m=e.$util.DateToUnix(f)+1,p={month:"开始月份",start_time:"开始时间",end_time:"结束时间"},!(l>m)){i.next=11;break}return e.$util.showToast({title:"".concat(p[c],"不能选择未来时间哦")}),i.abrupt("return");case 11:if(1!=u||!("start_time"==c&&h&&h<e.$util.DateToUnix(t.result)||"end_time"==c&&d&&d>e.$util.DateToUnix(t.result))){i.next=14;break}return e.$util.showToast({title:"结束时间不能小于开始时间"}),i.abrupt("return");case 14:e.check_time[c]=t.result;case 15:case"end":return i.stop()}}),i)})))()},toConfirm:function(){var t=this;return(0,o.default)(a.default.mark((function e(){var i,n,r,o,c,s,u,l,d,h,f;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.check_time,n=i.month,r=void 0===n?"":n,o=i.start_time,c=void 0===o?"":o,s=i.end_time,u=void 0===s?"":s,l=t.activeIndex,d=void 0===l?0:l,h=1e3*t.$util.DateToUnix(c),f=1e3*t.$util.DateToUnix(u),0!=d||r){e.next=7;break}return t.$util.showToast({title:"请选择开始月份"}),e.abrupt("return");case 7:if(1!=d||c&&u&&!(f-h>31536e6)){e.next=10;break}return t.$util.showToast({title:c?u?"查询时间跨度最长为一年哦":"请选择结束时间":"请选择开始时间"}),e.abrupt("return");case 10:t.check_time.activeIndex=d,t.prev_time=t.$util.deepCopy(t.check_time),t.$refs.show_choose_time.close(),t.getList(1);case 14:case"end":return e.stop()}}),e)})))()}}),filters:{handleTimeText:function(t,e){var i="请选择",n=t.activeIndex,a=t.month,r=t.start_time,o=t.end_time;0==n&&a&&(i=s.default.formatTime(1e3*s.default.DateToUnix("".concat(a,"-01")),"YY年M月"));var c=1==e?"YY.M.D":"YY年M月D日";return 1==n&&r&&o&&(i=s.default.formatTime(1e3*s.default.DateToUnix(r),c)+" - "+s.default.formatTime(1e3*s.default.DateToUnix(o),c)),i}}};e.default=d}).call(this,i("df3c")["default"])},"1aa0":function(t,e,i){"use strict";i.r(e);var n=i("0404"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"7e4b":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var n={wPicker:function(){return i.e("components/w-picker/w-picker").then(i.bind(null,"ab68"))}},a=function(){var t=this,e=t.$createElement,i=(t._self._c,t.isLoad?t._f("handleTimeText")(t.prev_time,1):null),n=t.isLoad?t.__map(t.list.data,(function(e,i){var n=t.__get_orig(e),a=1==t.prev_time.activeIndex&&0==i?t._f("handleTimeText")(t.prev_time,2):null,r=t.$t("action.attendantName"),o=t.$t("action.attendantName");return{$orig:n,f1:a,m0:r,m1:o}})):null,a=t.isLoad&&t.loading?t.list.current_page>=t.list.last_page&&t.list.data.length>0:null,r=t.isLoad?!t.loading&&t.list.data.length<=0&&1==t.list.current_page:null;t._isMounted||(t.e0=function(e){return e.stopPropagation(),t.$refs.show_status_item.open()}),t.$mp.data=Object.assign({},{$root:{f0:i,l0:n,g0:a,g1:r}})},r=[]},"80f4":function(t,e,i){"use strict";i.r(e);var n=i("7e4b"),a=i("1aa0");for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("fbe9");var o=i("828b"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=c.exports},a6bd:function(t,e,i){"use strict";(function(t,e){var n=i("47a9");i("65e9");n(i("3240"));var a=n(i("80f4"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(a.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])},e7e7:function(t,e,i){},fbe9:function(t,e,i){"use strict";var n=i("e7e7"),a=i.n(n);a.a}},[["a6bd","common/runtime","common/vendor"]]]);