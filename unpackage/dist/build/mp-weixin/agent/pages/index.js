(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["agent/pages/index"],{"1c02":function(e,n,t){"use strict";(function(e){var o=t("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t("7eb4")),r=o(t("ee10")),a=o(t("7ca3")),u=t("8f59");function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,a.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var l={components:{tabbar:function(){t.e("components/tabbar").then(function(){return resolve(t("a1b6"))}.bind(null,t)).catch(t.oe)}},data:function(){return{isLoad:!1,options:{},detail:{},noticeType:{1:{title:"订单通知",text:"您有新的订单来啦!"},2:{title:"退款通知",text:"您有新的客户退款通知!"},3:{title:"拒单通知",text:"有"+this.$t("action.attendantName")+"拒单, 请尽快处理!"}},shopOrder:[{icon:"icondaifuwu4",text:"待接单",url:"/agent/pages/order/list?tab=2",key:2,number:0},{icon:"iconjishijiedan1",text:"已接单",url:"/agent/pages/order/list?tab=3",key:3,number:0},{icon:"iconjishichufa1",text:"已出发",url:"/agent/pages/order/list?tab=4",key:4,number:0},{icon:"iconjishidaoda1",text:"已到达",url:"/agent/pages/order/list?tab=5",key:5,number:0},{icon:"iconanmo2",text:"服务中",url:"/agent/pages/order/list?tab=6",key:6,number:0},{icon:"iconyiwancheng",text:"已完成",url:"/agent/pages/order/list?tab=7"}],shopBellOrder:[{icon:"https://lbqny.migugu.com/admin/anmo/menu/daifuwu.png",text:"待接单",url:"/agent/pages/order/list?bell=1&tab=2",key:2,number:0},{icon:"https://lbqny.migugu.com/admin/anmo/menu/jiedan.png",text:"已接单",url:"/agent/pages/order/list?bell=1&tab=3",key:3,number:0},{icon:"https://lbqny.migugu.com/admin/anmo/menu/fuwuzhong.png",text:"服务中",url:"/agent/pages/order/list?bell=1&tab=4",key:6,number:0},{icon:"https://lbqny.migugu.com/admin/anmo/menu/wancheng.png",text:"已完成",url:"/agent/pages/order/list?bell=1&tab=5"}],shopRefuseOrder:[{icon:"icondaizhuandan",text:"待转单",url:"/agent/pages/order/list?tab=8",key:8,number:0}],shopRefund:[{icon:"iconshenqingzhong",text:"待退款",url:"/agent/pages/refund/list?tab=1",key:1,number:0},{icon:"icontongyituikuan",text:"同意退款",url:"/agent/pages/refund/list?tab=2",key:2,number:0},{icon:"iconjujuetuikuan",text:"拒绝退款",url:"/agent/pages/refund/list?tab=3",key:3,number:0}],shopBellRefund:[{icon:"https://lbqny.migugu.com/admin/anmo/menu/shenqingzhong.png",text:"待退款",url:"/agent/pages/refund/list?bell=1&tab=1",key:1,number:0},{icon:"https://lbqny.migugu.com/admin/anmo/menu/tongyi.png",text:"同意退款",url:"/agent/pages/refund/list?bell=1&tab=2",key:2,number:0},{icon:"https://lbqny.migugu.com/admin/anmo/menu/jujue.png",text:"拒绝退款",url:"/agent/pages/refund/list?bell=1&tab=3",key:3,number:0}],toolList:[{icon:"iconzhanghaoshezhi",text:"账号设置",url:"/agent/pages/account"},{icon:"iconshenqingjishi3",text:this.$t("action.attendantName")+"管理",url:"/agent/pages/technician/list"},{icon:"iconyongjinxinxi1",text:"佣金信息",url:"/agent/pages/income/commission"},{icon:"icontixianshenqing1",text:"提现申请",url:"/user/pages/distribution/record?type=5"}]}},computed:(0,u.mapState)({primaryColor:function(e){return e.config.configInfo.primaryColor},subColor:function(e){return e.config.configInfo.subColor},configInfo:function(e){return e.config.configInfo},userInfo:function(e){return e.user.userInfo},haveOperItem:function(e){return e.technician.haveOperItem}}),onLoad:function(n){var t=n.agent,o=void 0===t?0:t;n.agent=1*o,this.options=n,e.setNavigationBarTitle({title:1==o?"代理商端":"管理员端"}),this.initIndex()},onShow:function(){this.haveOperItem&&this.initRefresh()},onPullDownRefresh:function(){e.showNavigationBarLoading(),this.initRefresh(),e.stopPullDownRefresh()},methods:c(c({},(0,u.mapMutations)(["updateTechnicianItem"])),{},{initIndex:function(){var e=arguments,n=this;return(0,r.default)(i.default.mark((function t(){var o,r,a,u,s,c,l,d;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.length>0&&void 0!==e[0]&&e[0],n.$util.setNavigationBarColor({bg:n.primaryColor}),n.$util.showLoading(),n.updateTechnicianItem({key:"haveOperItem",val:!1}),o=n.options.agent,r=o?"agent":"admin",t.next=8,n.$api[r].index();case 8:a=t.sent,o&&(a.node=["shopOrder","shopBellOrder","shopRefuseOrder","shopRefund","shopBellRefund"]),u=a.notice,s=u.order_id,c=u.refund_id,l=u.refuse_id,s&&0==s.length&&(s={type:1}),c&&0==c.length&&(c={type:2}),l&&0==l.length&&(l={type:3}),d=[],(a.node.includes("shopOrder")||a.node.includes("shopBellOrder"))&&d.push(s),(a.node.includes("shopRefund")||a.node.includes("shopBellRefund"))&&d.push(c),a.node.includes("shopRefuseOrder")&&d.push(l),a.notice=d,n.shopOrder.map((function(e){e.key&&(e.number=a.order_count[e.key])})),n.shopBellOrder.map((function(e){e.key&&(e.number=a.add_count[e.key])})),n.shopRefuseOrder.map((function(e){e.key&&(e.number=a.refuse_order[e.key])})),n.shopRefund.map((function(e){e.key&&(e.number=a.refund_count[e.key])})),n.shopBellRefund.map((function(e){e.key&&(e.number=a.add_refund_count[e.key])})),n.detail=a,n.isLoad=!0,n.$util.hideAll();case 28:case"end":return t.stop()}}),t)})))()},initRefresh:function(){this.initIndex(!0)},toJump:function(e,n){var t=this[e][n].url,o=this.options.agent,i=t.includes("?")?"&":"?";t+="".concat(i,"agent=").concat(o),this.$util.goUrl({url:t})},goOrder:function(e){var n=this;return(0,r.default)(i.default.mark((function t(){var o,r,a,u,s,c,l,d,p,g;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=n.detail.notice[e],r=o.id,a=void 0===r?0:r,u=o.order_id,s=void 0===u?0:u,c=o.type,s){t.next=3;break}return t.abrupt("return");case 3:return l=n.options.agent,d=l?"agent":"admin",t.next=7,n.$api[d].noticeUpdate({id:a,have_look:1,is_pop:1});case 7:n.initRefresh(),p=2==c?"refund":"order",g=3===c?"/agent/pages/order/change?id=".concat(s,"&agent=").concat(l):"/agent/pages/".concat(p,"/detail?id=").concat(s,"&agent=").concat(l),n.$util.goUrl({url:g});case 11:case"end":return t.stop()}}),t)})))()}})};n.default=l}).call(this,t("df3c")["default"])},"2f09":function(e,n,t){"use strict";(function(e,n){var o=t("47a9");t("65e9");o(t("3240"));var i=o(t("bde2"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(i.default)}).call(this,t("3223")["default"],t("df3c")["createPage"])},bde2:function(e,n,t){"use strict";t.r(n);var o=t("f913"),i=t("be4f");for(var r in i)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(r);t("d021");var a=t("828b"),u=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);n["default"]=u.exports},be4f:function(e,n,t){"use strict";t.r(n);var o=t("1c02"),i=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=i.a},d021:function(e,n,t){"use strict";var o=t("ff90"),i=t.n(o);i.a},f913:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){}));var o=function(){var e=this,n=e.$createElement,t=(e._self._c,e.isLoad&&e.options.agent?e.$t("action.attendantName"):null),o=e.isLoad&&e.options.agent?e.$t("action.attendantName"):null,i=e.isLoad&&e.options.agent&&e.detail.channel_auth?e.$t("action.channelName"):null,r=e.isLoad?e.detail.node.includes("shopOrder"):null,a=e.isLoad?e.detail.node.includes("shopBellOrder"):null,u=e.isLoad?e.detail.node.includes("shopRefuseOrder"):null,s=e.isLoad?e.detail.node.includes("shopRefund"):null,c=e.isLoad?e.detail.node.includes("shopBellRefund"):null;e._isMounted||(e.e0=function(n){return n.stopPropagation(),e.$util.goUrl({url:"/user/pages/cash-out?type=agent"})},e.e1=function(n){return n.stopPropagation(),e.$refs.show_rule_item.open()},e.e2=function(n){return n.stopPropagation(),e.$util.goUrl({url:"/agent/pages/poster/technician"})},e.e3=function(n){return n.stopPropagation(),e.$util.goUrl({url:"/agent/pages/poster/salesman"})},e.e4=function(n){return n.stopPropagation(),e.$util.goUrl({url:"/agent/pages/poster/channel"})},e.e5=function(n){return n.stopPropagation(),e.$util.goUrl({url:"/agent/pages/poster/distribution"})},e.e6=function(n){return n.stopPropagation(),e.$refs.show_rule_item.close()}),e.$mp.data=Object.assign({},{$root:{m0:t,m1:o,m2:i,g0:r,g1:a,g2:u,g3:s,g4:c}})},i=[]},ff90:function(e,n,t){}},[["2f09","common/runtime","common/vendor"]]]);