<view class="pages-map"><block wx:if="{{isLoad}}"><block><block wx:if="{{configInfo.plugAuth.map}}"><block><fixed vue-id="3cca6e1a-1" zIndex="{{990}}" data-event-opts="{{[['^height',[['initFixHeight']]]]}}" bind:height="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="fill-base" style="height:196rpx;"><view class="map-info flex-between pd-lg"><view data-event-opts="{{[['tap',[['toChooseLocation',['$event']]]]]}}" class="flex-y-center" catchtap="__e"><view class="iconfont iconjuli mr-sm _i"></view><view class="f-mini-title c-title max-400 ellipsis">{{''+(location&&location.address?location.address:'定位中...')+''}}</view><view class="iconfont icon-down _i"></view></view><view class="map-list-item flex-y-center"><view data-event-opts="{{[['tap',[['toChangeItem',['map']]]]]}}" class="list-btn flex-center f-icontext rel" style="{{'color:'+(mapType=='map'?primaryColor:'')+';'+('border-color:'+(mapType=='map'?primaryColor:'')+';')+('border-right:'+(mapType=='list'?'none':'')+';')}}" catchtap="__e"><block wx:if="{{mapType=='map'}}"><view class="list-btn abs" style="{{'background:'+(primaryColor)+';'}}"></view></block><view class="iconfont icondituzhaoren2 _i"></view>地图</view><view data-event-opts="{{[['tap',[['toChangeItem',['list']]]]]}}" class="list-btn flex-center f-icontext rel" style="{{'color:'+(mapType=='list'?primaryColor:'')+';'+('border-color:'+(mapType=='list'?primaryColor:'')+';')+('border-left:'+(mapType=='map'?'none':'')+';')}}" catchtap="__e"><block wx:if="{{mapType=='list'}}"><view class="list-btn abs" style="{{'background:'+(primaryColor)+';'}}"></view></block><view class="iconfont iconliebiaomoshi2 _i"></view>列表</view></view></view><view class="tab-info flex-center pr-lg"><view class="tab-list-item"><tab vue-id="{{('3cca6e1a-2')+','+('3cca6e1a-1')}}" list="{{service_cate}}" activeIndex="{{param.activeIndex*1}}" activeColor="{{primaryColor}}" height="80rpx" fontSize="28rpx" numberType="{{2}}" lineClass="sm" data-event-opts="{{[['^change',[['handerTabChange']]]]}}" bind:change="__e" bind:__l="__l"></tab></view><view data-event-opts="{{[['tap',[['toPopup',['search_item','open']]]]]}}" class="tab-select-item flex-1 flex-between ml-sm" catchtap="__e"><view></view><view class="iconfont iconshaixuan _i"></view></view></view></view></fixed><block wx:if="{{mapType=='map'}}"><block><block wx:if="{{location.lat&&location.lng&&location.address}}"><block><map class="map-box" style="{{'height:'+('calc(100vh - '+(popupHeight+configInfo.tabbarHeight)+'px)')+';'}}" controls="{{map.controls}}" scale="{{map.scale}}" latitude="{{map.latitude}}" longitude="{{map.longitude}}" markers="{{covers}}" data-event-opts="{{[['callouttap',[['goDetail',['$event']]]],['markertap',[['goDetail',['$event']]]]]}}" bindcallouttap="__e" bindmarkertap="__e"></map></block></block></block></block><block wx:if="{{mapType=='list'}}"><block><block wx:if="{{$root.g0}}"><view class="{{['ml-md','mr-md',[($root.g1)?'flex-warp':'']]}}"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{[[(item.g2)?'mt-md':''],[(item.g3)?'mr-md':'']]}}"><technician-list-item vue-id="{{'3cca6e1a-3-'+index}}" info="{{item.$orig}}" data-event-opts="{{[['^comment',[['toShowPopup',[index,'message']]]],['^collect',[['toCollect',[index]]]],['^order',[['toShowPopup',[index,'technician']]]]]}}" bind:comment="__e" bind:collect="__e" bind:order="__e" bind:__l="__l"></technician-list-item></view></block></view></block><block wx:if="{{loading}}"><load-more vue-id="3cca6e1a-4" noMore="{{$root.g4}}" loading="{{loading}}" bind:__l="__l"></load-more></block><block wx:if="{{$root.g5}}"><abnor vue-id="3cca6e1a-5" bind:__l="__l"></abnor></block><view class="space-footer"></view><technician-list-popup class="vue-ref" vue-id="3cca6e1a-6" data-ref="technician_list_popup" bind:__l="__l"></technician-list-popup></block></block><block wx:if="{{$root.g6}}"><block><abnor vue-id="3cca6e1a-7" type="NOT_LOCATION" button="{{[{text:'开启定位',type:'confirm'}]}}" btnSize data-event-opts="{{[['^confirm',[['toOpenLocation']]]]}}" bind:confirm="__e" bind:__l="__l"></abnor></block></block></block></block><block wx:else><block><abnor vue-id="3cca6e1a-8" type="NOT_AUTH" bind:__l="__l"></abnor></block></block><uni-popup class="vue-ref" vue-id="3cca6e1a-9" type="top" left="164rpx" custom="{{true}}" data-ref="search_item" data-event-opts="{{[['^change',[['toChangePopupShow']]]]}}" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="search-popup pd-lg fill-base"><view class="f-desc c-title text-bold">{{$root.m0+'性别'}}</view><view class="flex-warp"><block wx:for="{{sexList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['toChangeItem',['sex','$0'],[[['sexList','',index,'id']]]]]]]}}" class="list-item flex-center mt-md mr-md f-paragraph c-paragraph radius" style="{{'background:'+(check.sex==item.id?primaryColor:'')+';'+('color:'+(check.sex==item.id?'#fff':'')+';')}}" catchtap="__e">{{item.title+''}}</view></block></view><view class="f-desc c-title text-bold pt-lg mt-md">从业年份</view><view class="flex-warp"><block wx:for="{{yearList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['toChangeItem',['year','$0'],[[['yearList','',index,'id']]]]]]]}}" class="list-item flex-center mt-md mr-md f-paragraph c-paragraph radius" style="{{'background:'+(check.year==item.id?primaryColor:'')+';'+('color:'+(check.year==item.id?'#fff':'')+';')}}" catchtap="__e">{{item.title+''}}</view></block></view><view class="f-desc c-title text-bold pt-lg mt-md">上门时间</view><view data-event-opts="{{[['tap',[['toShowDate',['$event']]]]]}}" class="list-item flex-center mt-md mr-md f-paragraph c-paragraph radius rel" style="width:100%;" catchtap="__e">{{''+(check.service_time||'选择期望上门时间')+''}}<block wx:if="{{check.service_time}}"><view data-event-opts="{{[['tap',[['toClearServiceTime',['$event']]]]]}}" class="iconfont icon-guanbi-fill abs _i" style="{{'color:'+(primaryColor)+';'}}" catchtap="__e"></view></block></view><view class="f-desc c-title text-bold pt-lg mt-md">个性筛选</view><input class="list-item text-center mt-md f-paragraph c-paragraph radius" style="width:100%;" type="text" placeholder="{{'请输入'+$root.m1+'姓名'}}" data-event-opts="{{[['input',[['__set_model',['$0','coach_name','$event',[]],['check']]]]]}}" value="{{check.coach_name}}" bindinput="__e"/><view style="height:60rpx;"></view><view class="flex-center"><view data-event-opts="{{[['tap',[['toReset',['$event']]]]]}}" class="search-btn flex-center f-mini-title c-title radius" catchtap="__e">重置</view><view data-event-opts="{{[['tap',[['toConfirm',['$event']]]]]}}" class="search-btn flex-center ml-lg f-mini-title c-base radius" style="{{'background:'+(primaryColor)+';'+('border-color:'+(primaryColor)+';')}}" catchtap="__e">确定</view></view></view></uni-popup><uni-popup class="vue-ref" vue-id="3cca6e1a-10" type="center" data-ref="technician_info_item" bind:__l="__l" vue-slots="{{['default']}}"><view data-event-opts="{{[['touchmove',[['',['$event']]]]]}}" class="technician-info-popup fill-base ml-lg mr-lg radius-16" catchtouchmove="__e"><image class="work-img" mode="aspectFill" src="{{detail.work_img}}" data-event-opts="{{[['tap',[['goInfo',['$event']]]]]}}" catchtap="__e"></image><view data-event-opts="{{[['tap',[['goInfo',['$event']]]]]}}" class="pt-lg pl-lg pr-lg" catchtap="__e"><view class="flex-between"><view class="f-title c-black text-bold max-400">{{detail.coach_name||'-'}}</view><view class="flex-center"><view class="iconfont iconjuli _i" style="{{'color:'+(primaryColor)+';'}}"></view><view class="f-desc c-title">{{detail.distance}}</view></view></view><view class="flex-y-center mt-sm"><view class="service-label flex-center f-icontext">{{''+textType[detail.text_type]+''}}</view><block wx:if="{{detail.near_time}}"><view class="time-label flex-y-center ml-md f-icontext c-paragraph"><view class="near-text flex-center">最早可约</view><view class="near-time flex-center c-base rel" style="{{'color:'+(primaryColor)+';'}}"><view class="bg abs" style="{{'background:'+(primaryColor)+';'}}"></view>{{''+detail.near_time+''}}</view></view></block></view><block wx:if="{{configInfo.merchant_switch_show&&detail.admin_id&&detail.merchant_name||configInfo.plugAuth.store&&detail.store_id&&detail.store_name}}"><view class="flex-y-center mt-lg f-icontext c-caption"><block wx:if="{{configInfo.merchant_switch_show&&detail.admin_id&&detail.merchant_name}}"><view class="iconfont iconshangjia_1 _i"></view></block><block wx:else><view class="iconfont icondianpu _i"></view></block><view class="max-500 ellipsis">{{''+(configInfo.merchant_switch_show&&detail.admin_id&&detail.merchant_name?detail.merchant_name:detail.store_name)+''}}</view></view></block><block wx:else><view class="space-md"></view></block><view class="flex-y-center f-icontext c-caption mt-sm"><view class="flex-y-baseline"><view class="iconfont iconpingfen1 icon-font-color _i"></view><view class="star-text flex-y-center f-caption">{{detail.star||0}}</view></view><block wx:if="{{detail.show_salenum}}"><block><view class="line"></view><view>{{"已服务"+(detail.order_num>9999?'9999+':detail.order_num)+"单"}}</view></block></block><view class="line"></view><view>{{"从业"+detail.work_time+"年"}}</view></view></view><view class="pd-lg"><view class="introduce-info pd-lg f-paragraph c-title radius-16"><text style="word-break:break-all;" decode="emsp">{{detail.text}}</text></view></view></view><view data-event-opts="{{[['tap',[['toPopup',['technician_info_item','close']]]]]}}" class="flex-center mt-lg" catchtap="__e"><view class="iconfont icon-close c-base _i"></view></view></uni-popup><w-picker class="vue-ref" vue-id="3cca6e1a-11" mode="date" startYear="{{startYear-100}}" endYear="{{startYear}}" value="{{toDay}}" current="{{false}}" fields="minute" disabled-after="{{false}}" themeColor="{{primaryColor}}" visible="{{showDate}}" data-ref="day" data-event-opts="{{[['^confirm',[['onConfirm',['$event']]]],['^updateVisible',[['__set_sync',['$0','showDate','$event'],['']]]]]}}" bind:confirm="__e" bind:updateVisible="__e" bind:__l="__l"></w-picker><view style="{{'height:'+(configInfo.tabbarHeight+'px')+';'}}"></view><tabbar vue-id="3cca6e1a-12" cur="{{7}}" bind:__l="__l"></tabbar></block></block><user-privacy class="vue-ref" vue-id="3cca6e1a-13" show="{{false}}" data-ref="user_privacy" bind:__l="__l"></user-privacy></view>