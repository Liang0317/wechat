{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/admin/Desktop/新建文件夹/前端未编译/uniapp/wechat/user/pages/bank-account.vue?b9d6","webpack:///C:/Users/admin/Desktop/新建文件夹/前端未编译/uniapp/wechat/user/pages/bank-account.vue?f5eb","webpack:///C:/Users/admin/Desktop/新建文件夹/前端未编译/uniapp/wechat/user/pages/bank-account.vue?bcee","webpack:///C:/Users/admin/Desktop/新建文件夹/前端未编译/uniapp/wechat/user/pages/bank-account.vue?710b","uni-app:///user/pages/bank-account.vue","webpack:///C:/Users/admin/Desktop/新建文件夹/前端未编译/uniapp/wechat/user/pages/bank-account.vue?f6b9","webpack:///C:/Users/admin/Desktop/新建文件夹/前端未编译/uniapp/wechat/user/pages/bank-account.vue?9d5a"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","isLoad","options","areaOptions","typeList","id","title","accTypeList","codeTypeList","member_info","bank_info","form","mid","bid","is_company","member_id","order_no","settle_account_id","name","social_credit_code","social_credit_code_expires","business_scope","legal_person","legal_cert_id","legal_cert_id_expires","legal_mp","address","attach_file","area","area_text","card_id","card_name","cert_id","tel_no","bank_code","bank_name","bank_acct_type","bank_area","bank_area_text","rule","checkType","errorMsg","regType","lockTap","computed","primaryColor","subColor","configInfo","userInfo","autograph","location","onLoad","methods","initIndex","refresh","company","batype","barea","pcode","acode","ind","ind1","bpcode","bacode","ind2","ind3","params","sdate","ldate","bg","initRefresh","toSetItem","pickerChange","toChooseFile","uni","count","type","extension","success","that","toUploadFile","uploadRes","path","check_url","filePath","formData","validate","param","item","includes","submit","subForm","msg","modelMethod","arr","arr1","setTimeout","url","openType","filters","handleFileText","text"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,oBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AAAuoB,CAAgB,snBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACgM3pB;AAKA;AACA;AAAA;AAAA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;MACA;QACAD;QACAC;MACA;MACAC;QACAF;QACAC;MACA;QACAD;QACAC;MACA;MACAE;QACAH;QACAC;MACA;QACAD;QACAC;MACA;MACAG,mFACA,8BACA,mGACA,cACA;MACAC,mGACA,mCACA;MACAC;QACAN;QACAO;QACAC;QACAC;QACAC;QACAC;QACAC;QACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACA;QACA;MACA;;MACAC;QACArB;QACAsB;QACAC;QACAC;MACA;QACAxB;QACAsB;QACAC;QACAC;MACA;QACAxB;QACAsB;QACAC;MACA;QACAvB;QACAsB;QACAC;MACA;QACAvB;QACAsB;QACAC;QACAC;MACA;QACAxB;QACAsB;QACAC;QACAC;MACA;QACAxB;QACAsB;QACAC;MACA;QACAvB;QACAsB;QACAC;MACA;QACAvB;QACAsB;QACAC;MACA;QACAvB;QACAsB;QACAC;QACAC;MACA;QACAxB;QACAsB;QACAC;MACA;QACAvB;QACAsB;QACAC;MACA;QACAvB;QACAsB;QACAC;MACA;QACAvB;QACAsB;QACAC;MACA;QACAvB;QACAsB;QACAC;MACA;QACAvB;QACAsB;QACAC;MACA;QACAvB;QACAsB;QACAC;MACA;MACAE;IACA;EACA;EACAC;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;EACA;EACAC;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;cACA;cACA;cAAA;cAAA,OACA;YAAA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA;EACAC,uDACA,0DACA;IACAC;MAAA;QAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAAC;gBAAA;gBAAA,OASA;cAAA;gBAAAtD;gBACA;kBAEAuD,UACAvD,iBADAc;kBAGA0C,SACAxD,eADAoC;kBAEAR;kBACAC;kBACA4B;kBACAnB;kBAEAnC,cACA,OADAA;kBAEA;oBAAA,oBAIAH,kBAFA0D,qCACAC;oBAEA/B;oBACAgC;sBACA;oBACA;oBACAC;sBACA;oBACA;oBACAhC;kBACA;kBACA;oBAAA,kBAIA7B,gBAFA8D,oCACAC;oBAEAN;oBACAO;sBACA;oBACA;oBACAC;sBACA;oBACA;oBACA3B;kBAEA;kBACA4B;kBACA;oBAEAC,QAEAD,OAFA9C,4BACAgD,QACAF,OADA1C;oBAEA0C,gGACAC;oBACAD,2FACAE;kBACA;kBACAF;kBACAA;kBACAA;kBACAA;kBACAA;kBACAA;kBACA;oBACAA;oBACA;kBACA;gBACA;gBACA;gBACA;kBACAG;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MAWAC;QACAC;QACAC;QACAC;QACAC;UAAA;YAAA;cAAA;gBAAA;kBAAA;oBACAC;kBAAA;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA;QACA;MACA;IAKA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBAAA,kBAIAC,UAFAC,iFAEAD,UADA/D,gEAEA;gBACAiE;gBAAA,IAIA;kBAAA;kBAAA;gBAAA;gBACA;kBACA7E;gBACA;gBAAA;cAAA;gBAAA;gBAAA,OAMA;kBACA8E;kBACAC;oBACAT;kBACA;gBACA;cAAA;gBAAA;gBANAM;gBAOA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IA2BA;IACAI;MACA,IACAxE,aAEAyE,MAFAzE;QACAsB,iBACAmD,MADAnD;MAEA,2FACA,gGACA,OACA;MACA,kGACA,4CACA;MACA;MACA;QACA,IACAlB,OACAsE,KADAtE;QAEA,uDACAuE,6CACAA;UACAH;QACA;MACA;MACA;MACA;IACA;IACAI;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;gBACAC;gBAAA,KACAA;kBAAA;kBAAA;gBAAA;gBACA;kBACAtF;gBACA;gBAAA;cAAA;gBAAA,KAGA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBACA;gBACA;gBAAA;gBAGAD,KAOAsF,QAPAtF,IACAO,MAMA+E,QANA/E,KACAC,MAKA8E,QALA9E,KACA0C,UAIAoC,QAJA7E,YACA0C,SAGAmC,QAHAvD,gBACAR,OAEA+D,QAFA/D,MACA6B,QACAkC,QADAtD;gBAAA,MAEAkB;kBAAA;kBAAA;gBAAA;gBACAqC;gBACA;kBACAtF;gBACA;gBAAA;cAAA;gBAAA,MAGAiD;kBAAA;kBAAA;gBAAA;gBACA;kBACAjD;gBACA;gBAAA;cAAA;gBAGAuF;gBACApF,6FACA,YACA;gBACAC;gBACA;kBACAD;kBACAA;gBACA;gBACAA;gBACAC;gBACAA;gBACAA;gBACA;kBAEAyD,QAEA1D,YAFAW,4BACAgD,QACA3D,YADAe;kBAEAsE;kBACArF;kBACAsF;kBACAtF;gBACA;gBAAA;gBAAA,OACA;kBACAA;kBACAC;gBACA;cAAA;gBACA;gBACA;kBACAJ;gBACA;gBACA0F;kBACA;kBACA;oBACAC;oBACAC;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAF;kBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;EAAA,EACA;EACAG;IACAC;MACA;MACA;QACAC;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC7oBA;AAAA;AAAA;AAAA;AAA0sC,CAAgB,qmCAAG,EAAC,C;;;;;;;;;;;ACA9tC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"user/pages/bank-account.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './user/pages/bank-account.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./bank-account.vue?vue&type=template&id=414ec7a6&\"\nvar renderjs\nimport script from \"./bank-account.vue?vue&type=script&lang=js&\"\nexport * from \"./bank-account.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bank-account.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"user/pages/bank-account.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bank-account.vue?vue&type=template&id=414ec7a6&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 =\n    _vm.isLoad && _vm.form.is_company === 1 && _vm.form.attach_file\n      ? _vm._f(\"handleFileText\")(_vm.form.attach_file)\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, item) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        item = _temp2.item\n      var _temp, _temp2\n      $event.stopPropagation()\n      _vm.form.bid ? \"\" : _vm.toSetItem(\"is_company\", item.id)\n    }\n    _vm.e1 = function ($event) {\n      $event.stopPropagation()\n      return _vm.$util.goUrl({\n        url: \"/user/pages/choose-adapay-city?key=area\",\n      })\n    }\n    _vm.e2 = function ($event, item) {\n      var _temp3 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp4 = _temp3.eventParams || _temp3[\"event-params\"],\n        item = _temp4.item\n      var _temp3, _temp4\n      $event.stopPropagation()\n      _vm.form.bid ? \"\" : _vm.toSetItem(\"bank_acct_type\", item.id)\n    }\n    _vm.e3 = function ($event) {\n      $event.stopPropagation()\n      return _vm.$util.goUrl({\n        url: \"/user/pages/choose-adapay-city?key=bank_area\",\n      })\n    }\n    _vm.e4 = function ($event) {\n      $event.stopPropagation()\n      return _vm.$util.goUrl({\n        url: \"https://docs.adapay.tech/api/appendix.html#bank-code\",\n        openType: \"web\",\n      })\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bank-account.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bank-account.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"user-bank-account\" v-if=\"isLoad\">\r\n\t\t<view class=\"pl-lg pr-lg pb-lg\">\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>结算账户类型</view>\r\n\t\t\t<view class=\"flex-y-center\">\r\n\t\t\t\t<view @tap.stop=\"form.bid?'':toSetItem('is_company',item.id)\" class=\"flex-y-center\"\r\n\t\t\t\t\t:class=\"[{'mr-lg':index==0}]\"\r\n\t\t\t\t\t:style=\"{color:form.is_company == item.id ? primaryColor:form.bid?'#999':''}\"\r\n\t\t\t\t\tv-for=\"(item,index) in typeList\" :key=\"index\"><i class=\"iconfont icon-xuanze mr-sm\"\r\n\t\t\t\t\t\t:class=\"[{'icon-xuanze-fill':form.is_company == item.id}]\"></i>{{item.title}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"fill-body pt-md pb-md pl-lg pr-lg f-title c-title text-bold\" v-if=\"form.is_company===1\">商户信息</view>\r\n\t\t<view class=\"pl-lg pr-lg\" v-if=\"form.is_company===1\">\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>商户名称<view\r\n\t\t\t\t\tclass=\"item-tips\">\r\n\t\t\t\t\t营业执照上的名称</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<input v-model=\"form.name\" type=\"text\" class=\"item-input fill-body radius-16 f-paragraph c-title\"\r\n\t\t\t\tplaceholder=\"请输入商户名称\" />\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>统一社会信用代码\r\n\t\t\t</view>\r\n\t\t\t<input v-model=\"form.social_credit_code\" type=\"text\"\r\n\t\t\t\tclass=\"item-input fill-body radius-16 f-paragraph c-title\" placeholder=\"请输入统一社会信用代码\" />\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>统一社会信用证有效期<view\r\n\t\t\t\t\tclass=\"item-tips\">永久执照请选择2099年12月31日\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item-input fill-body radius-16 f-paragraph c-title mt-md\" style=\"width:100%\">\r\n\t\t\t\t<picker @change=\"pickerChange($event,'social_credit_code_expires')\" mode=\"date\"\r\n\t\t\t\t\t:value=\"form.social_credit_code_expires\">\r\n\t\t\t\t\t<view class=\"flex-between\">\r\n\t\t\t\t\t\t<view :class=\"[{'c-caption':!form.social_credit_code_expires}]\">\r\n\t\t\t\t\t\t\t{{form.social_credit_code_expires ||'请选择日期'}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<i class=\"iconfont icon-right ml-sm\" style=\"font-size: 28rpx;\"></i>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>所在区域\r\n\t\t\t</view>\r\n\t\t\t<view @tap.stop=\"$util.goUrl({url:`/user/pages/choose-adapay-city?key=area`})\"\r\n\t\t\t\tclass=\"item-input fill-body radius-16 f-paragraph c-title\" style=\"width:100%\">\r\n\t\t\t\t<view class=\"flex-between\">\r\n\t\t\t\t\t<view :class=\"[{'c-caption':!form.area_text}]\">{{form.area_text ||'请选择所在区域'}}</view>\r\n\t\t\t\t\t<i class=\"iconfont icon-right ml-sm\" style=\"font-size: 28rpx;\"></i>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>经营范围\r\n\t\t\t\t<view class=\"item-tips\">营业执照上的经营范围</view>\r\n\t\t\t</view>\r\n\t\t\t<input v-model=\"form.business_scope\" type=\"text\" class=\"item-input fill-body radius-16 f-paragraph c-title\"\r\n\t\t\t\tplaceholder=\"请输入经营范围\" />\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>法人姓名\r\n\t\t\t</view>\r\n\t\t\t<input v-model=\"form.legal_person\" type=\"text\" class=\"item-input fill-body radius-16 f-paragraph c-title\"\r\n\t\t\t\tplaceholder=\"请输入法人姓名\" />\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>法人手机号\r\n\t\t\t</view>\r\n\t\t\t<input v-model=\"form.legal_mp\" type=\"text\" class=\"item-input fill-body radius-16 f-paragraph c-title\"\r\n\t\t\t\tplaceholder=\"请输入法人手机号\" />\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>法人身份证号\r\n\t\t\t</view>\r\n\t\t\t<input v-model=\"form.legal_cert_id\" type=\"text\" class=\"item-input fill-body radius-16 f-paragraph c-title\"\r\n\t\t\t\tplaceholder=\"请输入法人身份证号\" />\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>法人身份证有效期至\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item-input fill-body radius-16 f-paragraph c-title\" style=\"width:100%\">\r\n\t\t\t\t<picker @change=\"pickerChange($event,'legal_cert_id_expires')\" mode=\"date\"\r\n\t\t\t\t\t:value=\"form.legal_cert_id_expires\">\r\n\t\t\t\t\t<view class=\"flex-between\">\r\n\t\t\t\t\t\t<view :class=\"[{'c-caption':!form.legal_cert_id_expires}]\">\r\n\t\t\t\t\t\t\t{{form.legal_cert_id_expires ||'请选择日期'}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<i class=\"iconfont icon-right ml-sm\" style=\"font-size: 28rpx;\"></i>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>企业地址\r\n\t\t\t</view>\r\n\t\t\t<input v-model=\"form.address\" type=\"text\" class=\"item-input fill-body radius-16 f-paragraph c-title\"\r\n\t\t\t\tplaceholder=\"请输入企业地址\" />\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>附件</view>\r\n\t\t\t<view class=\"f-desc c-warning\">内容须包含三证合一证件照、法人身份证正面照、法人身份证反面照、开户银行许可证照压缩zip包后上传。请按照上述内容上传，若不按照规定上传将会影响数据审核\r\n\t\t\t</view>\r\n\r\n\t\t\t<view @tap.stop=\"toChooseFile\" class=\"item-input fill-body radius-16 f-paragraph c-title mt-md\"\r\n\t\t\t\tstyle=\"width:100%\">\r\n\t\t\t\t<view class=\"flex-between\">\r\n\t\t\t\t\t<block v-if=\"form.attach_file\">\r\n\t\t\t\t\t\t<view class=\"max-500\">\r\n\t\t\t\t\t\t\t<text decode=\"emsp\"\r\n\t\t\t\t\t\t\t\tstyle=\"word-break:break-all;\">{{form.attach_file | handleFileText}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view :style=\"{color:primaryColor}\">重选</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t<view class=\"c-caption\">请上传附件</view>\r\n\t\t\t\t\t\t<i class=\"iconfont icon-right ml-sm\" style=\"font-size: 28rpx;\"></i>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"space-footer\"></view>\r\n\t\t\t<view class=\"space-footer\"></view>\r\n\t\t</view>\r\n\t\t<view class=\"fill-body pt-md pb-md pl-lg pr-lg f-title c-title text-bold\">结算信息</view>\r\n\t\t<view class=\"pl-lg pr-lg\">\r\n\t\t\t<block v-if=\"form.is_company==1\">\r\n\t\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>银行账户类型</view>\r\n\t\t\t\t<view class=\"flex-y-center\">\r\n\t\t\t\t\t<view @tap.stop=\"form.bid?'':toSetItem('bank_acct_type',item.id)\" class=\"flex-y-center\"\r\n\t\t\t\t\t\t:class=\"[{'mr-lg':index==0}]\"\r\n\t\t\t\t\t\t:style=\"{color:form.bank_acct_type == item.id ? primaryColor:form.bid?'#999':''}\"\r\n\t\t\t\t\t\tv-for=\"(item,index) in accTypeList\" :key=\"index\"><i class=\"iconfont icon-xuanze mr-sm\"\r\n\t\t\t\t\t\t\t:class=\"[{'icon-xuanze-fill':form.bank_acct_type == item.id}]\"></i>{{item.title}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>结算账户银行卡号\r\n\t\t\t\t<view class=\"item-tips\">分成佣金到账银行卡卡号</view>\r\n\t\t\t</view>\r\n\t\t\t<input v-model=\"form.card_id\" type=\"text\" class=\"item-input fill-body radius-16 f-paragraph c-title\"\r\n\t\t\t\tplaceholder=\"请输入结算账户银行卡号\" />\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-base\"></i>开户银行名称\r\n\t\t\t\t<view class=\"item-tips\">例如：中国农业银行总府支行</view>\r\n\t\t\t</view>\r\n\t\t\t<input v-model=\"form.bank_name\" type=\"text\" class=\"item-input fill-body radius-16 f-paragraph c-title\"\r\n\t\t\t\tplaceholder=\"请输入开户银行名称\" />\r\n\t\t\t<block v-if=\"form.bank_acct_type === 1\">\r\n\t\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>开户银行所在地\r\n\t\t\t\t</view>\r\n\t\t\t\t<view @tap.stop=\"$util.goUrl({url:`/user/pages/choose-adapay-city?key=bank_area`})\"\r\n\t\t\t\t\tclass=\"item-input fill-body radius-16 f-paragraph c-title\" style=\"width:100%\">\r\n\t\t\t\t\t<view class=\"flex-between\">\r\n\t\t\t\t\t\t{{form.bank_area_text || '请选择开户银行所在地'}}\r\n\t\t\t\t\t\t<i class=\"iconfont icon-right ml-sm\" style=\"font-size: 28rpx;\"></i>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>银行编码\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\t@tap.stop=\"$util.goUrl({url:`https://docs.adapay.tech/api/appendix.html#bank-code`,openType:`web`})\"\r\n\t\t\t\t\t\tclass=\"item-tips\">具体编码请点击查看</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<input v-model=\"form.bank_code\" type=\"text\" class=\"item-input fill-body radius-16 f-paragraph c-title\"\r\n\t\t\t\t\tplaceholder=\"请输入银行编码\" />\r\n\t\t\t</block>\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>银行卡户名\r\n\t\t\t\t<view class=\"item-tips\">例如：银行卡绑定的用户姓名</view>\r\n\t\t\t</view>\r\n\t\t\t<input :disabled=\"form.bid ? true : false\" v-model=\"form.card_name\" type=\"text\"\r\n\t\t\t\tclass=\"item-input fill-body radius-16 f-paragraph\"\r\n\t\t\t\t:class=\"[{'c-caption':form.bid},{'c-title':!form.bid}]\" placeholder=\"请输入银行卡户名\" />\r\n\t\t\t<block v-if=\"form.bank_acct_type === 2\">\r\n\t\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>身份证号\r\n\t\t\t\t\t<view class=\"item-tips\">例如：银行卡开户的身份证号</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<input :disabled=\"form.bid ? true : false\" v-model=\"form.cert_id\" type=\"text\"\r\n\t\t\t\t\tclass=\"item-input fill-body radius-16 f-paragraph\"\r\n\t\t\t\t\t:class=\"[{'c-caption':form.bid},{'c-title':!form.bid}]\" placeholder=\"请输入身份证号\" />\r\n\t\t\t</block>\r\n\t\t\t<view class=\"item-text flex-y-center\"><i class=\"iconfont icon-required c-warning\"></i>手机号\r\n\t\t\t\t<view class=\"item-tips\">例如：银行卡开户预留的手机号</view>\r\n\t\t\t</view>\r\n\t\t\t<input v-model=\"form.tel_no\" type=\"text\" class=\"item-input fill-body radius-16 f-paragraph c-title\"\r\n\t\t\t\tplaceholder=\"请输入手机号\" />\r\n\t\t</view>\r\n\r\n\t\t<view class=\"space-max-footer\"></view>\r\n\r\n\t\t<uni-popup ref=\"show_choose_city\" type=\"bottom\">\r\n\t\t\t<view class=\"choose-city-popup pd-lg fill-base\">\r\n\t\t\t\t<view class=\"flex-center\">\r\n\t\t\t\t\t<view @tap.stop=\"toReset\" class=\"search-btn flex-center f-mini-title c-title radius\">重置</view>\r\n\t\t\t\t\t<view @tap.stop=\"toConfirm\" class=\"search-btn flex-center ml-lg f-mini-title c-base radius\"\r\n\t\t\t\t\t\t:style=\"{background:primaryColor,borderColor:primaryColor}\">确定</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\r\n\t\t<fix-bottom-button @confirm=\"submit\" :text=\"[{text:'提交',type:'confirm'}]\" bgColor=\"#fff\">\r\n\t\t</fix-bottom-button>\r\n\r\n\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t<l-file ref=\"lFile\" @up-success=\"onSuccess\"></l-file>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapActions,\r\n\t\tmapMutations\r\n\t} from \"vuex\"\r\n\timport siteInfo from '@/siteinfo.js';\r\n\timport provinceAndCityData from '@/utils/adapay.json'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisLoad: false,\r\n\t\t\t\toptions: {},\r\n\t\t\t\tareaOptions: provinceAndCityData,\r\n\t\t\t\ttypeList: [{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\ttitle: '个体户/企业'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\ttitle: '个人'\r\n\t\t\t\t}],\r\n\t\t\t\taccTypeList: [{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\ttitle: '对公'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\ttitle: '对私'\r\n\t\t\t\t}],\r\n\t\t\t\tcodeTypeList: [{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\ttitle: '永久有效'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\ttitle: '有效时间'\r\n\t\t\t\t}],\r\n\t\t\t\tmember_info: ['is_company', 'member_id', 'order_no', 'name', 'social_credit_code',\r\n\t\t\t\t\t'social_credit_code_expires',\r\n\t\t\t\t\t'business_scope', 'legal_person', 'legal_cert_id', 'legal_cert_id_expires', 'legal_mp', 'address',\r\n\t\t\t\t\t'attach_file'\r\n\t\t\t\t],\r\n\t\t\t\tbank_info: ['member_id', 'settle_account_id', 'bank_acct_type', 'card_id', 'card_name', 'cert_id',\r\n\t\t\t\t\t'tel_no', 'bank_code', 'bank_name'\r\n\t\t\t\t],\r\n\t\t\t\tform: {\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\tmid: '',\r\n\t\t\t\t\tbid: '',\r\n\t\t\t\t\tis_company: 1,\r\n\t\t\t\t\tmember_id: '',\r\n\t\t\t\t\torder_no: '',\r\n\t\t\t\t\tsettle_account_id: '',\r\n\t\t\t\t\t// 商家信息\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tsocial_credit_code: '',\r\n\t\t\t\t\tsocial_credit_code_expires: '',\r\n\t\t\t\t\tbusiness_scope: '',\r\n\t\t\t\t\tlegal_person: '',\r\n\t\t\t\t\tlegal_cert_id: '',\r\n\t\t\t\t\tlegal_cert_id_expires: '',\r\n\t\t\t\t\tlegal_mp: '',\r\n\t\t\t\t\taddress: '',\r\n\t\t\t\t\tattach_file: '',\r\n\t\t\t\t\tarea: [],\r\n\t\t\t\t\tarea_text: '',\r\n\t\t\t\t\t// 结算信息\r\n\t\t\t\t\tcard_id: '',\r\n\t\t\t\t\tcard_name: '',\r\n\t\t\t\t\tcert_id: '',\r\n\t\t\t\t\ttel_no: '',\r\n\t\t\t\t\tbank_code: '',\r\n\t\t\t\t\tbank_name: '',\r\n\t\t\t\t\tbank_acct_type: 1,\r\n\t\t\t\t\tbank_area: [],\r\n\t\t\t\t\tbank_area_text: '',\r\n\t\t\t\t\t// prov_code: '',\r\n\t\t\t\t\t// area_code: ''\r\n\t\t\t\t},\r\n\t\t\t\trule: [{\r\n\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\tcheckType: \"isNotNull\",\r\n\t\t\t\t\terrorMsg: \"请输入商户名称\",\r\n\t\t\t\t\tregType: 2\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"social_credit_code\",\r\n\t\t\t\t\tcheckType: \"isNotNull\",\r\n\t\t\t\t\terrorMsg: \"请输入统一社会信用代码\",\r\n\t\t\t\t\tregType: 2\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"social_credit_code_expires\",\r\n\t\t\t\t\tcheckType: \"isNotNull\",\r\n\t\t\t\t\terrorMsg: \"请选择统一社会信用证有效期\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"area\",\r\n\t\t\t\t\tcheckType: \"isNotNull\",\r\n\t\t\t\t\terrorMsg: \"请选择所在区域\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"business_scope\",\r\n\t\t\t\t\tcheckType: \"isNotNull\",\r\n\t\t\t\t\terrorMsg: \"请输入经营范围\",\r\n\t\t\t\t\tregType: 2\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"legal_person\",\r\n\t\t\t\t\tcheckType: \"isNotNull\",\r\n\t\t\t\t\terrorMsg: \"请输入法人名称\",\r\n\t\t\t\t\tregType: 2\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"legal_mp\",\r\n\t\t\t\t\tcheckType: \"isMobile\",\r\n\t\t\t\t\terrorMsg: \"请输入法人手机号\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"legal_cert_id\",\r\n\t\t\t\t\tcheckType: \"isIdCard\",\r\n\t\t\t\t\terrorMsg: \"请输入法人身份证号\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"legal_cert_id_expires\",\r\n\t\t\t\t\tcheckType: \"isNotNull\",\r\n\t\t\t\t\terrorMsg: \"请选择法人身份证有效期\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"address\",\r\n\t\t\t\t\tcheckType: \"isNotNull\",\r\n\t\t\t\t\terrorMsg: \"请输入企业地址\",\r\n\t\t\t\t\tregType: 2\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"attach_file\",\r\n\t\t\t\t\tcheckType: \"isNotNull\",\r\n\t\t\t\t\terrorMsg: \"请上传附件\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"card_id\",\r\n\t\t\t\t\tcheckType: \"isNotNull\",\r\n\t\t\t\t\terrorMsg: \"请输入结算账户银行卡号\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"bank_area\",\r\n\t\t\t\t\tcheckType: \"isNotNull\",\r\n\t\t\t\t\terrorMsg: \"请选择开户银行所在地\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"bank_code\",\r\n\t\t\t\t\tcheckType: \"isNotNull\",\r\n\t\t\t\t\terrorMsg: \"请输入银行编码\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"card_name\",\r\n\t\t\t\t\tcheckType: \"isNotNull\",\r\n\t\t\t\t\terrorMsg: \"请输入银行卡户名\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"tel_no\",\r\n\t\t\t\t\tcheckType: \"isMobile\",\r\n\t\t\t\t\terrorMsg: \"请输入手机号\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"cert_id\",\r\n\t\t\t\t\tcheckType: \"isIdCard\",\r\n\t\t\t\t\terrorMsg: \"请输入身份证号\",\r\n\t\t\t\t}],\r\n\t\t\t\tlockTap: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: mapState({\r\n\t\t\tprimaryColor: state => state.config.configInfo.primaryColor,\r\n\t\t\tsubColor: state => state.config.configInfo.subColor,\r\n\t\t\tconfigInfo: state => state.config.configInfo,\r\n\t\t\tuserInfo: state => state.user.userInfo,\r\n\t\t\tautograph: state => state.user.autograph,\r\n\t\t\tlocation: state => state.user.location,\r\n\t\t}),\r\n\t\tasync onLoad(options) {\r\n\t\t\tthis.$util.showLoading()\r\n\t\t\tthis.options = options\r\n\t\t\tawait this.initIndex()\r\n\t\t\tthis.isLoad = true\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions(['getConfigInfo', 'getUserInfo']),\r\n\t\t\t...mapMutations(['updateUserItem']),\r\n\t\t\tasync initIndex(refresh = false) {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tif (!refresh && this.$jweixin.isWechat()) {\r\n\t\t\t\t\tawait this.$jweixin.initJssdk();\r\n\t\t\t\t\tthis.$jweixin.wxReady(() => {\r\n\t\t\t\t\t\tthis.$jweixin.hideOptionMenu()\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\tlet data = await this.$api.mine.memberInfo()\r\n\t\t\t\tif (data && data.hasOwnProperty('member_info') && data.hasOwnProperty('bank_info')) {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tis_company: company\r\n\t\t\t\t\t} = data.member_info\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tbank_acct_type: batype\r\n\t\t\t\t\t} = data.bank_info\r\n\t\t\t\t\tlet area = []\r\n\t\t\t\t\tlet area_text = ''\r\n\t\t\t\t\tlet barea = []\r\n\t\t\t\t\tlet bank_area_text = ''\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tareaOptions\r\n\t\t\t\t\t} = this\r\n\t\t\t\t\tif (company === 1) {\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tprov_code: pcode,\r\n\t\t\t\t\t\t\tarea_code: acode\r\n\t\t\t\t\t\t} = data.member_info\r\n\t\t\t\t\t\tarea = [pcode, acode]\r\n\t\t\t\t\t\tlet ind = areaOptions.findIndex(item => {\r\n\t\t\t\t\t\t\treturn item.value === area[0]\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tlet ind1 = areaOptions[ind].cities.findIndex(item => {\r\n\t\t\t\t\t\t\treturn item.value === area[1]\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tarea_text = `${areaOptions[ind].title} ${areaOptions[ind].cities[ind1].title}`\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (batype == 1) {\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tprov_code: bpcode,\r\n\t\t\t\t\t\t\tarea_code: bacode\r\n\t\t\t\t\t\t} = data.bank_info\r\n\t\t\t\t\t\tbarea = [bpcode, bacode]\r\n\t\t\t\t\t\tlet ind2 = areaOptions.findIndex(item => {\r\n\t\t\t\t\t\t\treturn item.value === barea[0]\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tlet ind3 = areaOptions[ind2].cities.findIndex(item => {\r\n\t\t\t\t\t\t\treturn item.value === barea[1]\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbank_area_text = `${areaOptions[ind2].title} ${areaOptions[ind2].cities[ind3].title}`\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet params = Object.assign({}, data.member_info, data.bank_info)\r\n\t\t\t\t\tif (company === 1) {\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tsocial_credit_code_expires: sdate,\r\n\t\t\t\t\t\t\tlegal_cert_id_expires: ldate\r\n\t\t\t\t\t\t} = params\r\n\t\t\t\t\t\tparams.social_credit_code_expires = sdate.substring(0, 4) + '-' + sdate.substring(4, 6) + '-' +\r\n\t\t\t\t\t\t\tsdate.substring(6, 8)\r\n\t\t\t\t\t\tparams.legal_cert_id_expires = ldate.substring(0, 4) + '-' + ldate.substring(4, 6) + '-' +\r\n\t\t\t\t\t\t\tldate.substring(6, 8)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparams.area = area\r\n\t\t\t\t\tparams.bank_area = barea\r\n\t\t\t\t\tparams.area_text = area_text\r\n\t\t\t\t\tparams.bank_area_text = bank_area_text\r\n\t\t\t\t\tparams.mid = data.member_info.id\r\n\t\t\t\t\tparams.bid = data.bank_info.id\r\n\t\t\t\t\tfor (let i in this.form) {\r\n\t\t\t\t\t\tparams[i] = params[i] == null ? '' : params[i]\r\n\t\t\t\t\t\tthis.form[i] = params[i]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.$util.hideAll()\r\n\t\t\t\tthis.$util.setNavigationBarColor({\r\n\t\t\t\t\tbg: this.primaryColor\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tinitRefresh() {\r\n\t\t\t\tthis.initIndex(true)\r\n\t\t\t},\r\n\t\t\ttoSetItem(key, val) {\r\n\t\t\t\tthis.form[key] = val\r\n\t\t\t\tif (key == 'is_company') {\r\n\t\t\t\t\tthis.form.bank_acct_type = val\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpickerChange(e, key) {\r\n\t\t\t\tlet ind = e.target.value\r\n\t\t\t\tthis.form[key] = ind\r\n\t\t\t},\r\n\t\t\t// 上传附件\r\n\t\t\ttoChooseFile() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tuni.chooseFile({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\textension: ['.zip'],\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.toUploadFile(res.tempFiles[0])\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tuni.chooseMessageFile({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\ttype: 'file',\r\n\t\t\t\t\textension: ['zip'],\r\n\t\t\t\t\tasync success(res) {\r\n\t\t\t\t\t\tthat.toUploadFile(res.tempFiles[0])\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tthis.onUpload()\r\n\t\t\t\t// #endif \r\n\t\t\t},\r\n\t\t\tasync toUploadFile(uploadRes) {\r\n\t\t\t\tthis.$util.showLoading()\r\n\t\t\t\tlet {\r\n\t\t\t\t\tpath: url = '',\r\n\t\t\t\t\tname = ''\r\n\t\t\t\t} = uploadRes\r\n\t\t\t\t// console.log('uploadRes===', url, name)\r\n\t\t\t\tlet check_url = url\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tcheck_url = name\r\n\t\t\t\t// #endif\r\n\t\t\t\tif (!/\\.(zip)$/.test(check_url)) {\r\n\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\ttitle: `附件仅支持zip格式哦`\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet {\r\n\t\t\t\t\tattachment_path: path\r\n\t\t\t\t} = await this.$api.base.uploadFile({\r\n\t\t\t\t\tfilePath: url,\r\n\t\t\t\t\tformData: {\r\n\t\t\t\t\t\ttype: 'cert'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.form.attach_file = path\r\n\t\t\t\tthis.$util.hideAll()\r\n\t\t\t},\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\t// app上传附件\r\n\t\t\tonUpload() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tautograph\r\n\t\t\t\t} = this\r\n\t\t\t\tlet {\r\n\t\t\t\t\tsiteroot\r\n\t\t\t\t} = siteInfo\r\n\t\t\t\tlet url = siteroot.split('/index.php')[0]\r\n\t\t\t\tthis.$refs.lFile.upload({\r\n\t\t\t\t\turl: `${siteroot}?i=666&m=longbing_massages_city&s=admin/app/wx/uploadFile&urls=admin/app/wx/uploadFile`,\r\n\t\t\t\t\tname: 'file',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'autograph': autograph\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonSuccess(res) {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tattachment_path: path\r\n\t\t\t\t} = res.data.data\r\n\t\t\t\tthis.form.attach_file = path\r\n\t\t\t\tthis.$util.hideAll()\r\n\t\t\t},\r\n\t\t\t// #endif\r\n\t\t\t//表单验证\r\n\t\t\tvalidate(param) {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tis_company,\r\n\t\t\t\t\tbank_acct_type\r\n\t\t\t\t} = param\r\n\t\t\t\tlet minfo = [\"name\", \"social_credit_code\", \"social_credit_code_expires\", \"business_scope\",\r\n\t\t\t\t\t\"legal_person\", \"legal_cert_id\", \"legal_cert_id_expires\", \"legal_mp\", \"address\", \"attach_file\",\r\n\t\t\t\t\t\"area\"\r\n\t\t\t\t]\r\n\t\t\t\tlet binfo = bank_acct_type == 1 ? [\"card_id\", \"card_name\", \"tel_no\", \"bank_area\", \"bank_code\"] : [\r\n\t\t\t\t\t\"card_id\", \"card_name\", \"cert_id\", \"tel_no\"\r\n\t\t\t\t]\r\n\t\t\t\tlet validate = new this.$util.Validate();\r\n\t\t\t\tthis.rule.map(item => {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t} = item\r\n\t\t\t\t\tif ((is_company === 1 && (minfo.includes(name) || binfo\r\n\t\t\t\t\t\t\t.includes(name))) || (is_company === 2 && binfo\r\n\t\t\t\t\t\t\t.includes(name))) {\r\n\t\t\t\t\t\tvalidate.add(param[name], item)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tlet message = validate.start();\r\n\t\t\t\treturn message;\r\n\t\t\t},\r\n\t\t\tasync submit() {\r\n\t\t\t\tlet subForm = this.$util.deepCopy(this.form)\r\n\t\t\t\tlet msg = this.validate(subForm);\r\n\t\t\t\tif (msg) {\r\n\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\ttitle: msg\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.lockTap) return\r\n\t\t\t\tthis.lockTap = true\r\n\t\t\t\tthis.$util.showLoading()\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tmid,\r\n\t\t\t\t\t\tbid,\r\n\t\t\t\t\t\tis_company: company,\r\n\t\t\t\t\t\tbank_acct_type: batype,\r\n\t\t\t\t\t\tarea,\r\n\t\t\t\t\t\tbank_area: barea\r\n\t\t\t\t\t} = subForm\r\n\t\t\t\t\tif ((company === 1 && area.length < 2) || (batype === 1 && barea.length < 2)) {\r\n\t\t\t\t\t\tlet msg = area.length < 2 ? `所在区域` : `开户银行所在地`\r\n\t\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\t\ttitle: `${msg} 请选择具体的省市区`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (company === 1 && !/\\.(zip)$/.test(subForm.attach_file)) {\r\n\t\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\t\ttitle: `附件仅支持zip格式!`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet modelMethod = subForm.bid ? 'memberUpdate' : 'memberAdd'\r\n\t\t\t\t\tlet member_info = this.$util.pick(subForm, company === 1 ? this.member_info : ['is_company',\r\n\t\t\t\t\t\t'member_id'\r\n\t\t\t\t\t])\r\n\t\t\t\t\tlet bank_info = this.$util.pick(subForm, this.bank_info)\r\n\t\t\t\t\tif (company === 1) {\r\n\t\t\t\t\t\tmember_info.prov_code = area[0]\r\n\t\t\t\t\t\tmember_info.area_code = area[1]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmember_info.id = mid\r\n\t\t\t\t\tbank_info.prov_code = batype === 1 ? barea[0] : ''\r\n\t\t\t\t\tbank_info.area_code = batype === 1 ? barea[1] : ''\r\n\t\t\t\t\tbank_info.id = bid\r\n\t\t\t\t\tif (company === 1) {\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tsocial_credit_code_expires: sdate,\r\n\t\t\t\t\t\t\tlegal_cert_id_expires: ldate\r\n\t\t\t\t\t\t} = member_info\r\n\t\t\t\t\t\tlet arr = sdate.split('-')\r\n\t\t\t\t\t\tmember_info.social_credit_code_expires = `${arr[0]}${arr[1]}${arr[2]}`\r\n\t\t\t\t\t\tlet arr1 = ldate.split('-')\r\n\t\t\t\t\t\tmember_info.legal_cert_id_expires = `${arr1[0]}${arr1[1]}${arr1[2]}`\r\n\t\t\t\t\t}\r\n\t\t\t\t\tawait this.$api.mine[modelMethod]({\r\n\t\t\t\t\t\tmember_info,\r\n\t\t\t\t\t\tbank_info\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$util.hideAll()\r\n\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\ttitle: `提交成功`\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.$util.back()\r\n\t\t\t\t\t\tthis.$util.goUrl({\r\n\t\t\t\t\t\t\turl: 1,\r\n\t\t\t\t\t\t\topenType: `navigateBack`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.lockTap = false\r\n\t\t\t\t\t\tthis.$util.hideAll()\r\n\t\t\t\t\t}, 2000)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\thandleFileText(url) {\r\n\t\t\t\tlet text = '请上传附件'\r\n\t\t\t\tif (url) {\r\n\t\t\t\t\ttext = url.substring(url.lastIndexOf('/') + 1)\r\n\t\t\t\t}\r\n\t\t\t\treturn text\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\tbackground: #fff;\r\n\t}\r\n\r\n\r\n\t.user-bank-account {\r\n\t\t.item-text {\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tmargin: 35rpx 0 20rpx 0;\r\n\r\n\t\t\t.icon-required {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.item-tips {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #FF2404;\r\n\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.item-input {\r\n\t\t\twidth: calc(100% - 60rpx);\r\n\t\t\tmin-height: 80rpx;\r\n\t\t\tpadding: 0 30rpx;\r\n\r\n\t\t\t.flex-between {\r\n\t\t\t\tmin-height: 40rpx;\r\n\t\t\t\tpadding: 20rpx 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.icon-xuanze,\r\n\t\t.icon-xuanze-fill {\r\n\t\t\tfont-size: 30rpx;\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bank-account.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bank-account.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1747029154768\n      var cssReload = require(\"C:/Users/admin/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}