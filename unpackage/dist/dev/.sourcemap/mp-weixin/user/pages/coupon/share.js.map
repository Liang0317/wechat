{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/admin/Desktop/新建文件夹/前端未编译/uniapp/wechat/user/pages/coupon/share.vue?8289","webpack:///C:/Users/admin/Desktop/新建文件夹/前端未编译/uniapp/wechat/user/pages/coupon/share.vue?e7c1","webpack:///C:/Users/admin/Desktop/新建文件夹/前端未编译/uniapp/wechat/user/pages/coupon/share.vue?1f57","webpack:///C:/Users/admin/Desktop/新建文件夹/前端未编译/uniapp/wechat/user/pages/coupon/share.vue?a613","uni-app:///user/pages/coupon/share.vue","webpack:///C:/Users/admin/Desktop/新建文件夹/前端未编译/uniapp/wechat/user/pages/coupon/share.vue?7623","webpack:///C:/Users/admin/Desktop/新建文件夹/前端未编译/uniapp/wechat/user/pages/coupon/share.vue?4175"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","data","shareImg","isLoad","options","detail","end_time","record_list","qr_code","computed","primaryColor","subColor","configInfo","userInfo","isGzhLogin","over_time_text","onLoad","uni","onPullDownRefresh","onShareAppMessage","id","imageUrl","pid","title","path","methods","initIndex","refresh","bg","initRefresh","getDetail","coupon_atv_id","atv_info","countEnd","setTimeout","toShare","page","toPoster","url","toAppShare","status","siteroot","siteInfo"],"mappings":"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","file":"user/pages/coupon/share.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './user/pages/coupon/share.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./share.vue?vue&type=template&id=83aa7f72&\"\nvar renderjs\nimport script from \"./share.vue?vue&type=script&lang=js&\"\nexport * from \"./share.vue?vue&type=script&lang=js&\"\nimport style0 from \"./share.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"user/pages/coupon/share.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./share.vue?vue&type=template&id=83aa7f72&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.isLoad ? _vm.record_list.data.length : null\n  var g1 = _vm.isLoad ? _vm.record_list.data.length : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./share.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./share.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"user-coupon-share\" v-if=\"isLoad\">\r\n\t\t<!-- #ifdef H5 -->\r\n\t\t<view @tap=\"$util.goUrl({url:`/pages/service`,openType:`reLaunch`})\" class=\"abs\"\r\n\t\t\t:class=\"[{'back-user-ios none': configInfo.isIos},{'back-user-android none': !configInfo.isIos}]\"\r\n\t\t\tstyle=\"z-index: 1;right:30rpx;\" v-if=\"options.pid\">\r\n\t\t\t<view class=\"iconshouye iconfont\"></view>\r\n\t\t\t<view class=\"back-user_text\">回到首页</view>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t\t<image mode=\"aspectFill\" class=\"coupon-img\" :src=\"shareImg\"></image>\r\n\r\n\t\t<view class=\"coupon-content\">\r\n\t\t\t<view class=\"flex-center flex-column\">\r\n\t\t\t\t<view class=\"flex-center f-paragraph pt-lg pb-md\" :style=\"{color:primaryColor}\">\r\n\t\t\t\t\t{{detail.status == 1 ? '距活动结束还剩':'活动已结束'}}\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"count-down\">\r\n\t\t\t\t\t<min-countdown :type=\"2\" countdownClass=\"coupon-share\" :color=\"primaryColor\"\r\n\t\t\t\t\t\t:targetTime=\"over_time_text\" @callback=\"countEnd\">\r\n\t\t\t\t\t</min-countdown>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"space-lg\"></view>\r\n\t\t\t\t<view class=\"space-lg\"></view>\r\n\t\t\t\t<!-- status 1进行中，2成功，3失败 -->\r\n\t\t\t\t<view class=\"ml-lg mr-lg pt-lg pb-sm pl-lg pr-lg rel radius-20\" style=\"background: #FFFAF4;\">\r\n\t\t\t\t\t<view class=\"menu-img mt-lg abs\">\r\n\t\t\t\t\t\t<image mode=\"aspectFill\" class=\"menu-img\"\r\n\t\t\t\t\t\t\tsrc=\"https://lbqny.migugu.com/admin/anmo/coupon/menu.png\"></image>\r\n\t\t\t\t\t\t<view class=\"menu-title flex-center abs\" :style=\"{color:primaryColor}\">邀请记录</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"space-lg\"></view>\r\n\t\t\t\t\t<view class=\"space-lg\"></view>\r\n\t\t\t\t\t<view class=\"flex-center f-desc pb-md\" :style=\"{color:primaryColor}\">\r\n\t\t\t\t\t\t<view class=\"user-item\">用户</view>\r\n\t\t\t\t\t\t<view class=\"time-item\">时间</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<image mode=\"aspectFill\" class=\"line-img\" src=\"https://lbqny.migugu.com/admin/anmo/coupon/line.png\">\r\n\t\t\t\t\t</image>\r\n\t\t\t\t\t<scroll-view scroll-y class=\"user-list-info\" v-if=\"record_list.data.length > 0\">\r\n\t\t\t\t\t\t<view class=\"user-list flex-between f-desc c-title b-1px-b\"\r\n\t\t\t\t\t\t\tv-for=\"(item,index) in record_list.data\" :key=\"index\">\r\n\t\t\t\t\t\t\t<view class=\"flex-y-center pt-md pb-md\">\r\n\t\t\t\t\t\t\t\t<image mode=\"aspectFill\" class=\"avatar radius\" :src=\"item.avatarUrl\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"ml-md max-300 ellipsis\">{{item.nickName || `用户${item.id}`}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>{{item.create_time}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t<abnor percent=\"70%\" v-if=\"record_list.data.length == 0\"></abnor>\r\n\t\t\t\t\t<view class=\"space-sm\"></view>\r\n\r\n\r\n\t\t\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t\t\t<auth :needAuth=\"userInfo && (!userInfo.phone || !userInfo.nickName)\" :must=\"true\"\r\n\t\t\t\t\t\t:type=\"!userInfo.phone ? 'phone':'userInfo'\" @go=\"toShare\" v-if=\"detail.status == 1\">\r\n\t\t\t\t\t\t<view class=\"share-img mt-lg rel\">\r\n\t\t\t\t\t\t\t<image mode=\"aspectFill\" class=\"share-img\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://lbqny.migugu.com/admin/anmo/coupon/btn.png\"></image>\r\n\t\t\t\t\t\t\t<view class=\"share-title flex-center abs\" :style=\"{color:primaryColor}\">\r\n\t\t\t\t\t\t\t\t{{detail.user_id == userInfo.id?'邀请有奖': userInfo.nickName ?'帮TA邀请':'我要参加'}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</auth>\r\n\r\n\t\t\t\t\t<view class=\"share-img grayscale mt-lg rel\" v-else>\r\n\t\t\t\t\t\t<image mode=\"aspectFill\" class=\"share-img\"\r\n\t\t\t\t\t\t\tsrc=\"https://lbqny.migugu.com/admin/anmo/coupon/btn.png\"></image>\r\n\t\t\t\t\t\t<view class=\"share-title flex-center abs\" :style=\"{color:primaryColor}\">\r\n\t\t\t\t\t\t\t{{detail.user_id == userInfo.id?'邀请有奖': userInfo.nickName ?'帮TA邀请':'我要参加'}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"mt-md ml-lg mr-lg pt-lg pb-lg pl-lg pr-lg rel radius-20\" style=\"background: #FFFAF4;\"\r\n\t\t\t\t\tv-if=\"detail.id\">\r\n\t\t\t\t\t<view class=\"atv-rule pd-md radius-16\" :style=\"{border: `1px solid ${primaryColor}`}\">\r\n\t\t\t\t\t\t<view class=\"flex-center f-paragraph pt-sm pb-md\" :style=\"{color:primaryColor}\">活动规则</view>\r\n\t\t\t\t\t\t<view class=\"f-desc c-desc\">1、活动总计可发起{{detail.atv_num}}次；</view>\r\n\t\t\t\t\t\t<view class=\"f-desc c-desc\" v-if=\"detail.to_inv_user == 1\">2、被推荐人授权用户信息后即可获得相应奖励；</view>\r\n\t\t\t\t\t\t<view class=\"f-desc c-desc\">\r\n\t\t\t\t\t\t\t{{detail.to_inv_user == 1?3:2}}、活动发起人每成功邀请{{detail.inv_user_num}}位好友授权用户信息后，即可获得以下卡券：\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"flex-warp f-desc c-desc\" v-for=\"(item,index) in detail.coupon\" :key=\"index\">\r\n\t\t\t\t\t\t\t<view>（{{index*1+1}}）卡券：{{item.title}}；数量：x{{item.num}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"space-md\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"space-footer\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<uni-popup ref=\"show_share_item\" type=\"bottom\">\r\n\t\t\t<view class=\"popup-share pd-lg f-desc c-desc fill-base\">\r\n\t\t\t\t<view class=\"flex-center\">\r\n\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t<button open-type=\"share\" class=\"clear-btn list-item flex-center flex-column\">\r\n\t\t\t\t\t\t<image mode=\"aspectFill\" class=\"item-image\"\r\n\t\t\t\t\t\t\tsrc=\"https://lbqny.migugu.com/admin/anmo/coupon/wechat.png\"></image>\r\n\t\t\t\t\t\t<view style=\"font-size: 26rpx;color:#666;\">分享给好友</view>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<view @tap.stop=\"toPoster\" class=\"list-item flex-center flex-column\">\r\n\t\t\t\t\t\t<image mode=\"aspectFill\" class=\"item-image\"\r\n\t\t\t\t\t\t\tsrc=\"https://lbqny.migugu.com/admin/anmo/coupon/picture.png\"></image>\r\n\t\t\t\t\t\t<view>生成海报码</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t\t\t\t<view @tap.stop=\"toAppShare(1)\" class=\"list-item flex-center flex-column\">\r\n\t\t\t\t\t\t<image mode=\"aspectFill\" class=\"item-image\"\r\n\t\t\t\t\t\t\tsrc=\"https://lbqny.migugu.com/admin/anmo/coupon/wechat.png\"></image>\r\n\t\t\t\t\t\t<view style=\"font-size: 26rpx;color:#666;\">分享给好友</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view @tap.stop=\"toAppShare(2)\" class=\"list-item flex-center flex-column\">\r\n\t\t\t\t\t\t<image mode=\"aspectFill\" class=\"item-image\"\r\n\t\t\t\t\t\t\tsrc=\"https://lbqny.migugu.com/admin/anmo/coupon/wechat-moments.png\"></image>\r\n\t\t\t\t\t\t<view>分享到朋友圈</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"space-footer\"></view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapActions,\r\n\t\tmapMutations\r\n\t} from \"vuex\"\r\n\timport siteInfo from '@/siteinfo.js';\r\n\texport default {\r\n\t\tcomponents: {},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshareImg: 'https://lbqny.migugu.com/admin/anmo/coupon/bg.png',\r\n\t\t\t\tisLoad: false,\r\n\t\t\t\toptions: {},\r\n\t\t\t\tdetail: {\r\n\t\t\t\t\tend_time: ''\r\n\t\t\t\t},\r\n\t\t\t\trecord_list: {},\r\n\t\t\t\tqr_code: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: mapState({\r\n\t\t\tprimaryColor: state => state.config.configInfo.primaryColor,\r\n\t\t\tsubColor: state => state.config.configInfo.subColor,\r\n\t\t\tconfigInfo: state => state.config.configInfo,\r\n\t\t\tuserInfo: state => state.user.userInfo,\r\n\t\t\tisGzhLogin: state => state.user.isGzhLogin,\r\n\t\t\tover_time_text() {\r\n\t\t\t\treturn new Date().getTime() + this.detail.end_time * 1000\r\n\t\t\t}\r\n\t\t}),\r\n\t\tasync onLoad(options) {\r\n\t\t\tthis.$util.showLoading()\r\n\t\t\toptions = await this.updateCommonOptions(options)\r\n\t\t\tthis.options = options\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tuni.hideShareMenu()\r\n\t\t\t// #endif\r\n\t\t\tawait this.initIndex()\r\n\t\t}, \r\n\t\tonPullDownRefresh() {\r\n\t\t\t// #ifndef APP-PLUS\r\n\t\t\tuni.showNavigationBarLoading()\r\n\t\t\t// #endif\r\n\t\t\tthis.initRefresh();\r\n\t\t\tuni.stopPullDownRefresh()\r\n\t\t},\r\n\t\tonShareAppMessage(e) {\r\n\t\t\tlet {\r\n\t\t\t\tid,\r\n\t\t\t\tshare_img: imageUrl\r\n\t\t\t} = this.detail\r\n\t\t\tlet {\r\n\t\t\t\tid: pid = 0\r\n\t\t\t} = this.userInfo\r\n\t\t\tlet path =\r\n\t\t\t\t`/user/pages/coupon/share?pid=${pid}&coupon_atv_id=${id}`\r\n\t\t\tthis.$util.log(path)\r\n\t\t\tthis.$refs.show_share_item.close()\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '',\r\n\t\t\t\timageUrl,\r\n\t\t\t\tpath,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions(['getConfigInfo', 'getUserInfo', 'updateCommonOptions']),\r\n\t\t\t...mapMutations(['updateUserItem']),\r\n\t\t\tasync initIndex(refresh = false) {\r\n\t\t\t\tif (!this.configInfo.id || refresh) {\r\n\t\t\t\t\tawait this.getConfigInfo()\r\n\t\t\t\t}\r\n\t\t\t\tlet {\r\n\t\t\t\t\tid: uid = 0\r\n\t\t\t\t} = this.userInfo\r\n\t\t\t\tlet {\r\n\t\t\t\t\tisGzhLogin\r\n\t\t\t\t} = this\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tif (isGzhLogin && !uid) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.getDetail()\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.getDetail()\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifndef H5\r\n\t\t\t\tawait this.getDetail()\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.$util.setNavigationBarColor({\r\n\t\t\t\t\tbg: this.primaryColor\r\n\t\t\t\t})\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tif (!refresh && this.$jweixin.isWechat()) {\r\n\t\t\t\t\tawait this.$jweixin.initJssdk();\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.toAppShare()\r\n\t\t\t\t\t}, 1200)\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tinitRefresh() {\r\n\t\t\t\tthis.initIndex(true)\r\n\t\t\t},\r\n\t\t\tasync getDetail() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tcoupon_atv_id = 0\r\n\t\t\t\t} = this.options\r\n\t\t\t\tlet {\r\n\t\t\t\t\trecord_list,\r\n\t\t\t\t\tatv_info\r\n\t\t\t\t} = await this.$api.mine.couponAtvInfo({\r\n\t\t\t\t\tid: coupon_atv_id\r\n\t\t\t\t})\r\n\t\t\t\tif (atv_info.status !== 1) {\r\n\t\t\t\t\tatv_info.end_time = 0\r\n\t\t\t\t}\r\n\t\t\t\tthis.detail = atv_info\r\n\t\t\t\tthis.record_list = record_list\r\n\t\t\t\tthis.isLoad = true\r\n\t\t\t\tthis.$util.hideAll()\r\n\t\t\t},\r\n\t\t\tcountEnd() {\r\n\t\t\t\tthis.$util.log(\"倒计时完了\")\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.initRefresh()\r\n\t\t\t\t\tthis.$util.back()\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\tasync toShare() {\r\n\t\t\t\tif (this.detail.status != 1) return\r\n\t\t\t\t// #ifndef APP-PLUS\r\n\t\t\t\tif (!this.qr_code) {\r\n\t\t\t\t\tthis.$util.showLoading()\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tid: coupon_atv_id\r\n\t\t\t\t\t} = this.detail\r\n\t\t\t\t\tlet qr_code = await this.$api.mine.atvQr({\r\n\t\t\t\t\t\tpage: 'user/pages/coupon/share',\r\n\t\t\t\t\t\tcoupon_atv_id\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$util.hideAll()\r\n\t\t\t\t\tthis.qr_code = qr_code\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.$refs.show_share_item.open()\r\n\t\t\t\tif (this.detail.user_id == this.userInfo.id) return\r\n\t\t\t\tthis.getDetail()\r\n\t\t\t},\r\n\t\t\ttoPoster() {\r\n\t\t\t\tthis.$refs.show_share_item.close()\r\n\t\t\t\tthis.$util.goUrl({\r\n\t\t\t\t\turl: `/user/pages/coupon/poster`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoAppShare(type = 1) {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tshare_img: imageUrl,\r\n\t\t\t\t\tstatus\r\n\t\t\t\t} = this.detail\r\n\t\t\t\tlet {\r\n\t\t\t\t\tid: pid = 0\r\n\t\t\t\t} = this.userInfo\r\n\t\t\t\tlet methodModel = status * 1 == 1 ? 'showOptionMenu' : 'hideOptionMenu'\r\n\t\t\t\tlet title = '邀请有礼'\r\n\t\t\t\tlet summary = '邀请新人 获得福利'\r\n\r\n\t\t\t\tlet {\r\n\t\t\t\t\tsiteroot\r\n\t\t\t\t} = siteInfo\r\n\t\t\t\tlet url = siteroot.split('/index.php')[0]\r\n\t\t\t\tlet href = `${url}/h5/#/user/pages/coupon/share?coupon_atv_id=${id}&pid=${pid}`\r\n\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tthis.$jweixin.wxReady(() => {\r\n\t\t\t\t\tthis.$jweixin[methodModel]()\r\n\t\t\t\t\tthis.$jweixin.shareAppMessage(title, summary, href, imageUrl)\r\n\t\t\t\t\tthis.$jweixin.shareTimelineMessage(title, href, imageUrl)\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tthis.$refs.show_share_item.close()\r\n\t\t\t\tlet scene = type == 1 ? 'WXSceneSession' : 'WXSceneTimeline'\r\n\t\t\t\tuni.share({\r\n\t\t\t\t\tprovider: \"weixin\",\r\n\t\t\t\t\tscene,\r\n\t\t\t\t\ttype: 0,\r\n\t\t\t\t\thref,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tsummary,\r\n\t\t\t\t\timageUrl,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tconsole.log(\"success:\" + JSON.stringify(res));\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\tconsole.log(\"fail:\" + JSON.stringify(err));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n\t.user-coupon-share {\r\n\t\t.coupon-img {\r\n\t\t\twidth: 750rpx;\r\n\t\t\theight: 560rpx;\r\n\t\t}\r\n\r\n\t\t.coupon-content {\r\n\t\t\twidth: 750rpx;\r\n\t\t\tmin-height: 1431rpx;\r\n\t\t\tbackground: linear-gradient(0deg, #A40035 0%, #FFAE89 100%);\r\n\r\n\t\t\t.count-down {\r\n\t\t\t\theight: 56rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.menu-img {\r\n\t\t\t\twidth: 426rpx;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.menu-img.abs {\r\n\t\t\t\ttop: -56rpx;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\tmargin-left: -213rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.menu-title {\r\n\t\t\t\twidth: 426rpx;\r\n\t\t\t\theight: 90rpx;\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\ttop: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.line-img {\r\n\t\t\t\twidth: 630rpx;\r\n\t\t\t\theight: 1rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.user-item {\r\n\t\t\t\twidth: 360rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.time-item {\r\n\t\t\t\twidth: 220rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.user-list-info {\r\n\t\t\t\t/* #ifdef H5 */\r\n\t\t\t\theight: 746rpx;\r\n\t\t\t\t/* #endif */\r\n\t\t\t\t/* #ifndef H5 */\r\n\t\t\t\theight: 576rpx;\r\n\t\t\t\t/* #endif */\r\n\r\n\t\t\t\t.user-list {\r\n\t\t\t\t\t.avatar {\r\n\t\t\t\t\t\twidth: 56rpx;\r\n\t\t\t\t\t\theight: 56rpx;\r\n\t\t\t\t\t\tbackground: #FFAE89;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\t.share-img {\r\n\t\t\t\twidth: 541rpx;\r\n\t\t\t\theight: 140rpx;\r\n\t\t\t\tmargin: 0 auto;\r\n\t\t\t}\r\n\r\n\t\t\t.share-title {\r\n\t\t\t\twidth: 541rpx;\r\n\t\t\t\theight: 125rpx;\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\ttop: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.atv-rule {\r\n\t\t\t\ttransform: rotateZ(360deg);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t.popup-share {\r\n\t\t\t.list-item {\r\n\t\t\t\twidth: 50%;\r\n\r\n\t\t\t\t.item-image {\r\n\t\t\t\t\twidth: 66rpx;\r\n\t\t\t\t\theight: 66rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n</style>","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./share.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./share.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1747029156006\n      var cssReload = require(\"C:/Users/admin/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}